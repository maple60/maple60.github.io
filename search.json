[
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "Blog",
    "section": "",
    "text": "Rのプロットで色に透明度を指定する方法\n\n\n\nr\n\n\n\nadjustcolor()やrgb()を使い、Rのプロットで色に透明度を指定する方法についてまとめます。\n\n\n\n\n\n2026-02-25\n\n\n\n\n\n\n\n\n\n\n\n\nQuartoを用いた解析プロジェクト管理について\n\n\n\nquarto\n\n\n\nQuartoのBook形式で解析プロジェクトを管理する方法についてまとめます。\n\n\n\n\n\n2026-02-11\n\n\n\n\n\n\n\n\n\n\n\n\nRでファイル名を抽出する方法\n\n\n\nr\n\n\n\nbasename(), file.path_sans_ext()を使ってRでファイル名を抽出する方法についてまとめます。\n\n\n\n\n\n2026-02-06\n\n\n\n\n\n\n\n\n\n\n\n\nRのプロットのアスペクト比を設定する方法\n\n\n\nr\n\n\n\naspパラメータを使ってRのプロットのアスペクト比を調整する方法についてです。\n\n\n\n\n\n2026-02-04\n\n\n\n\n\n\n\n\n\n\n\n\nQuartoでPDF出力時にインラインコードブロックに背景色を付ける方法\n\n\n\nquatro\n\nlatex\n\n\n\nLaTeXのxcolorパッケージを利用して、QuartoでPDF出力時にインラインコードブロックに背景色を付ける方法のメモです。\n\n\n\n\n\n2026-02-04\n\n\n\n\n\n\n\n\n\n\n\n\nQuartoのPDF出力で日本語を使う\n\n\n\nquarto\n\n\n\nCJKmainfontオプションを設定することで、Quartoで日本語を正しく表示する方法を紹介します。\n\n\n\n\n\n2026-02-03\n\n\n\n\n\n\n\n\n\n\n\n\nRでLorenz attractorを描く\n\n\n\nr\n\n\n\ndeSolveパッケージを使ってLorenz方程式を解き、Lorenz attractorを描画する方法を紹介します。また、scatterplot3dやplotlyパッケージを使用して3Dプロットを作成する方法も示します\n\n\n\n\n\n2026-02-02\n\n\n\n\n\n\n\n\n\n\n\n\nChain codeについて\n\n\n\nr\n\n\n\nChain codeについてのメモです\n\n\n\n\n\n2026-02-01\n\n\n\n\n\n\n\n\n\n\n\n\nRで日本地図を描く\n\n\n\nr\n\n\n\nrnaturalearthパッケージとrnaturalearthhiresパッケージを使ってRで日本地図を描く方法を紹介します。\n\n\n\n\n\n2026-01-31\n\n\n\n\n\n\n\n\n\n\n\n\nRでディレクトリを作成する方法\n\n\n\nr\n\n\n\ndir.create()関数を使用してRでディレクトリを作成する方法についてのメモです\n\n\n\n\n\n2026-01-30\n\n\n\n\n\n\n\n\n\n\n\n\nQuartoで表示される日付型を変更する\n\n\n\nr\n\nquarto\n\n\n\ndate-formatオプションでQuartoで表示される日付のフォーマットを変更する方法についてのメモです\n\n\n\n\n\n2026-01-30\n\n\n\n\n\n\n\n\n\n\n\n\nGithub ActionsでQuartoのコードリンク機能を有効にする方法\n\n\n\nr\n\nquarto\n\n\n\nGithub ActionsでQuartoのwebsiteをビルドする際に、コードリンク機能を有効にする方法についてのメモです\n\n\n\n\n\n2026-01-29\n\n\n\n\n\n\n\n\n\n\n\n\nQuartoのコードブロック内の関数にドキュメントリンクをつける方法\n\n\n\nr\n\n\n\ncode-linkオプションでQuartoのコードブロック内の関数にドキュメントリンクをつける方法についてのメモです\n\n\n\n\n\n2026-01-28\n\n\n\n\n\n\n\n\n\n\n\n\nRでベクトルの重複を取り除く方法\n\n\n\nr\n\n\n\nmake.unique()関数を使ってベクトルの重複を取り除く方法についてのメモです\n\n\n\n\n\n2026-01-27\n\n\n\n\n\n\n\n\n\n\n\n\n導入しているZoteroプラグインのまとめ\n\n\n\nzotero\n\n\n\n文献管理ソフトZoteroで導入しているプラグインのまとめです\n\n\n\n\n\n2026-01-25\n\n\n\n\n\n\n\n\n\n\n\n\nQuartoでコードブロックのファイル名を表示する\n\n\n\nquarto\n\n\n\nQuartoでコードブロックのファイル名を表示する方法についてのメモです\n\n\n\n\n\n2026-01-24\n\n\n\n\n\n\n\n\n\n\n\n\n画像処理のためのRパッケージimagerの使い方\n\n\n\nr\n\n\n\nimagerパッケージについての基本的な使い方の紹介です\n\n\n\n\n\n2026-01-01\n\n\n\n\n\n\n\n\n\n\n\n\nBookdownで404エラーが出たときの原因の一つはURLエンコード\n\n\n\nr\n\n\n\nBookdownで日本語を使うときはURLエンコードに注意です\n\n\n\n\n\n2024-06-18\n\n\n\n\n\n\n\n\n\n\n\n\nBASIIC認証でつまったこと\n\n\n\nmisc\n\n\n\nBASIIC認証を使用したときの注意点についてのメモ\n\n\n\n\n\n2024-06-18\n\n\n\n\n\n\n\n\n\n\n\n\nRでベクトルを作成する\n\n\n\nr\n\n\n\nRでベクトルを作成するいろいろな方法をまとめます\n\n\n\n\n\n2024-06-18\n\n\n\n\n\n\n\n\n\n\n\n\nRで累積和を求める\n\n\n\nr\n\n\n\ncumsum関数で累積和を求めます\n\n\n\n\n\n2024-03-14\n\n\n\n\n\n\n\n\n\n\n\n\nRで色相環を作成する\n\n\n\nr\n\n\n\nRで色相環を作成するコードの紹介\n\n\n\n\n\n2024-03-04\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/2026-02-11-quarto-project-management/index.html",
    "href": "posts/2026-02-11-quarto-project-management/index.html",
    "title": "Quartoを用いた解析プロジェクト管理について",
    "section": "",
    "text": "Quartoは、RやPythonなどの言語を使ってドキュメントやウェブサイトを作成できるオープンソースのツールです。 Qurtoでは、ブラウザ上で読むことのできる、HTML形式のドキュメントを簡単に作成できます。 これを使って、解析に順番のあるプロジェクトを管理できるのではないかと思いついたので、メモとして残します。"
  },
  {
    "objectID": "posts/2026-02-11-quarto-project-management/index.html#解析における課題",
    "href": "posts/2026-02-11-quarto-project-management/index.html#解析における課題",
    "title": "Quartoを用いた解析プロジェクト管理について",
    "section": "解析における課題",
    "text": "解析における課題\n多くの解析プロジェクトでは、複数のステップが順番に実行されます。 例えば、データの前処理、解析、可視化、レポート作成などです。\nこの時、処理ごとにスクリプトを分けて管理することが一般的です。 しかし、スクリプトが増えると、どの順番で実行すればよいのか分かりづらくなります。\nこれまで、私は00_data_preprocessing.R、01_analysis.R、02_visualization.Rのように、ファイル名に番号を振って順番を管理してきました。 しかし、ファイルが増えると番号の管理が煩雑になり、ミスが起こりやすくなります。 例えば、新しい解析を追加したとき、順番が変わった場合、ファイル名の番号をすべて変更する必要があります。\nまた、一つのqmdファイル内でも、コードセルごとに実行ができるため、いざ上から順番に実行したときに、変数が存在しないなどのエラーが発生することもあります。 例えば、前処理のコードセルを実行せずに解析のコードセルを実行すると、必要なデータが存在しないためエラーになります。\nこれらの課題を解決するために、QuartoのBook形式を用いて解析プロジェクトを管理する方法を考えました。 まだ試している段階ですが、以下にその方法をまとめておきます。"
  },
  {
    "objectID": "posts/2026-02-11-quarto-project-management/index.html#quartoのbook形式とは",
    "href": "posts/2026-02-11-quarto-project-management/index.html#quartoのbook形式とは",
    "title": "Quartoを用いた解析プロジェクト管理について",
    "section": "QuartoのBook形式とは",
    "text": "QuartoのBook形式とは\nQuartoのBook形式は、複数のqmdファイルをまとめて一つのドキュメントとして出力できる機能です。 例えば、Rの入門書として有名なR for Data Science (2e)はQuartoのBook形式で作成されています。\nそのほかにも最近は多くのR関連の書籍がQuartoのBook形式で作成されています。 実際にR for Data Science (2e)などを見ていただくと、実際の本のように、順番だってページが並び、途中途中にセクションがあることがわかります。\n順番に実行する必要のある解析コードについても、同じようにBook形式で管理できるのではないかと考えました。"
  },
  {
    "objectID": "posts/2026-02-11-quarto-project-management/index.html#既存の解析プロジェクトの構成例",
    "href": "posts/2026-02-11-quarto-project-management/index.html#既存の解析プロジェクトの構成例",
    "title": "Quartoを用いた解析プロジェクト管理について",
    "section": "既存の解析プロジェクトの構成例",
    "text": "既存の解析プロジェクトの構成例\n今回は、実際に近い例として、解析がデータの前処理、解析、可視化などのステップに分かれているプロジェクトを考えます。 例えば、ある解析プロジェクトで、以下のように解析フォルダを管理していたとします。\nnotebooks/\n├── 01_data_preprocessing_AA.qmd\n├── 02_data_preprocessing_BB.qmd\n├── 03_analysis_CC.qmd\n├── 04_analysis_DD.qmd\n├── 05_visualization_EE.qmd\n└── 06_visualization_FF.qmd\nこのように、各ステップごとにqmdファイルを分けて管理しています。 しかし、ある時、02_data_preprocessing_BBの前に新しい前処理ステップを追加したいとします。 この場合、ファイル名の番号をすべて変更する必要があり、非常に面倒です。"
  },
  {
    "objectID": "posts/2026-02-11-quarto-project-management/index.html#quarto-bookの作成",
    "href": "posts/2026-02-11-quarto-project-management/index.html#quarto-bookの作成",
    "title": "Quartoを用いた解析プロジェクト管理について",
    "section": "Quarto Bookの作成",
    "text": "Quarto Bookの作成\nこの課題を解決するために、QuartoのBook形式を用いて解析プロジェクトを管理します。\nCtrl+Shift+Pでコマンドパレットを開き、“Quarto: Create New Book Project”を選択します。 プロジェクト名を入力し、保存先フォルダを指定します。"
  },
  {
    "objectID": "posts/2026-01-28-quarto-code-linking/index.html",
    "href": "posts/2026-01-28-quarto-code-linking/index.html",
    "title": "Quartoのコードブロック内の関数にドキュメントリンクをつける方法",
    "section": "",
    "text": "Quartoのコードブロック内で使用されている関数にドキュメントリンクを自動的に追加する方法についてのメモです。 code-linkオプションを使用すると、コードブロック内の関数に対応するドキュメントへのリンクを追加できます。\n_quarto.ymlファイルに以下のように設定を追加します。\nこれにより、HTML出力時にコードブロック内の関数名がリンク付きで表示されるようになります。"
  },
  {
    "objectID": "posts/2026-01-28-quarto-code-linking/index.html#使用例",
    "href": "posts/2026-01-28-quarto-code-linking/index.html#使用例",
    "title": "Quartoのコードブロック内の関数にドキュメントリンクをつける方法",
    "section": "使用例",
    "text": "使用例\nインラインコードやコードブロック内で関数を使用すると、リンクが自動的に追加されます。例えば、以下のようにRコードブロックを記述します。\n\n例文： このようにunique()関数を使用すると、ベクトルの重複を取り除くことができます。\n\nまた、コードブロック内でも同様にリンクが追加されます。\n\nx &lt;- c(\"apple\", \"banana\", \"apple\", \"orange\", \"banana\")\nunique_x &lt;- unique(x)\nprint(unique_x)\n\n[1] \"apple\"  \"banana\" \"orange\"\n\n\nそれぞれの関数にマウスを合わせると、リンクがついていることを示す下線が表示され、クリックすると対応するドキュメントページに移動します。 今回の例だと、c()、unique()、print()関数にリンクが追加されているのではないでしょうか。"
  },
  {
    "objectID": "posts/2026-01-28-quarto-code-linking/index.html#注意点",
    "href": "posts/2026-01-28-quarto-code-linking/index.html#注意点",
    "title": "Quartoのコードブロック内の関数にドキュメントリンクをつける方法",
    "section": "注意点",
    "text": "注意点\n\n\ncode-linkオプションはknitrエンジンでのみサポートされています。他のエンジンを使用している場合は、リンクが生成されないようです (内部でdownlitパッケージを使用しているため)。簡単に言うと、Rコードブロックでのみ機能します。\n\ncode-line-numbersオプションやcode-annotationsオプションとは併用ができないようです。これらのオプションを有効にしている場合、code-linkオプションは無視されます。\n\n\n\n\n\n\n\nTip\n\n\n\ncode-line-numbersオプションは、コードブロックに行番号を追加するためのオプションです。\ncode-annotationsオプションは、コードブロックに注釈を追加するためのオプションです。"
  },
  {
    "objectID": "posts/2026-01-28-quarto-code-linking/index.html#参考",
    "href": "posts/2026-01-28-quarto-code-linking/index.html#参考",
    "title": "Quartoのコードブロック内の関数にドキュメントリンクをつける方法",
    "section": "参考",
    "text": "参考\n\nknitr - Elegant, flexible, and fast dynamic report generation with R - Yihui Xie | 谢益辉\nCRAN: Package knitr\nHTML Code Blocks - Quarto\nCode Annotation - Quarto"
  },
  {
    "objectID": "posts/2026-01-30-r-make-directory/index.html",
    "href": "posts/2026-01-30-r-make-directory/index.html",
    "title": "Rでディレクトリを作成する方法",
    "section": "",
    "text": "Rでは、dir.create()関数を使用してディレクトリを作成することができます。"
  },
  {
    "objectID": "posts/2026-01-30-r-make-directory/index.html#dir.create関数",
    "href": "posts/2026-01-30-r-make-directory/index.html#dir.create関数",
    "title": "Rでディレクトリを作成する方法",
    "section": "dir.create()関数",
    "text": "dir.create()関数\n文法は以下の通りです。\ndir.create(path, showWarnings = TRUE, recursive = FALSE, mode = \"0777\")\n\npath: 作成するディレクトリのパスを指定します。~はホームディレクトリを表します。\nshowWarnings: TRUEに設定すると、ディレクトリが既に存在する場合に警告を表示します。デフォルトはTRUEです。\nrecursive: TRUEに設定すると、必要に応じて親ディレクトリも作成します。デフォルトはFALSEです。\nmode: 作成するディレクトリのアクセス権(パーミッション)を指定します。デフォルトは”0777”です。\n\n\n\n\n\n\n\nNote\n\n\n\nmode引数はUNIX系システムでのみ意味を持ちます。Windowsでは無視されます。 基本的にはデフォルトのままで問題ありません。 ここでは詳しく説明しません。\nもし詳しく知りたい場合は、?dir.createでヘルプを参照していただくか、以下のドキュメントを参照してください。\n\nfiles2: Manipulaton of Directories and File Permissions"
  },
  {
    "objectID": "posts/2026-01-30-r-make-directory/index.html#使用例",
    "href": "posts/2026-01-30-r-make-directory/index.html#使用例",
    "title": "Rでディレクトリを作成する方法",
    "section": "使用例",
    "text": "使用例\n例えば、以下のコードはsave/path/to/directoryというディレクトリを作成します。 このとき、親ディレクトリが存在しない場合でもrecursive = TRUEを指定することで、必要な親ディレクトリも一緒に作成されます。 また、もしディレクトリが既に存在していても警告を表示しないようにshowWarnings = FALSEを指定しています。\nsave_dir &lt;- \"save/path/to/directory\"\ndir.create(save_dir, showWarnings = FALSE, recursive = TRUE)\nこのコードを実行すると、saveディレクトリが存在しない場合でも、save/path/to/directoryというディレクトリが作成されます。"
  },
  {
    "objectID": "posts/2026-01-31-r-japan-map/index.html",
    "href": "posts/2026-01-31-r-japan-map/index.html",
    "title": "Rで日本地図を描く",
    "section": "",
    "text": "install.packages(\"rnaturalearth\")\nrenvを使用している場合は、以下のコマンドでインストールします。\nrenv::install(\"necountries\")\nその後、パッケージを読み込みます。\n\nlibrary(rnaturalearth)"
  },
  {
    "objectID": "posts/2026-01-31-r-japan-map/index.html#パッケージのインストールと読み込み",
    "href": "posts/2026-01-31-r-japan-map/index.html#パッケージのインストールと読み込み",
    "title": "Rで日本地図を描く",
    "section": "",
    "text": "install.packages(\"rnaturalearth\")\nrenvを使用している場合は、以下のコマンドでインストールします。\nrenv::install(\"necountries\")\nその後、パッケージを読み込みます。\n\nlibrary(rnaturalearth)"
  },
  {
    "objectID": "posts/2026-01-31-r-japan-map/index.html#日本地図の描画",
    "href": "posts/2026-01-31-r-japan-map/index.html#日本地図の描画",
    "title": "Rで日本地図を描く",
    "section": "日本地図の描画",
    "text": "日本地図の描画\n地図を描画するには、rnaturalearthdataパッケージも必要です。以下のコードで日本の地図を取得し、描画します。\ninstall.packages(\"rnaturalearthdata\")\nrenv::install(\"rnaturalearthdata\") # renvを使用している場合\nライブラリを読み込まなくても問題ありませんが、念のため読み込みます。\n\nlibrary(rnaturalearthdata)\n\n\nAttaching package: 'rnaturalearthdata'\n\n\nThe following object is masked from 'package:rnaturalearth':\n\n    countries110\n\n\nne_countries()関数を使って日本の地図データを取得し、plot()関数で描画します。\n\njapan &lt;- ne_countries(\n  scale = \"medium\",\n  country = \"Japan\",\n  returnclass = \"sf\"\n)\nplot(japan[\"geometry\"])\n\n\n\n\n\n\n\n引数は、以下のように設定しています。\n\n\nscale = \"medium\": 中程度の解像度の地図データを取得します。他にsmallやlargeも選択可能です。\n\ncountry = \"Japan\": 日本の地図データを指定します。\n\nreturnclass = \"sf\": 地図データをsfオブジェクトとして返します。\n\nこれでRを使って日本地図を描くことができます。必要に応じて、地図のスタイルや詳細をカスタマイズしてください。\n\n\n\n\n\n\nNote公式ドキュメント\n\n\n\nne_countries()関数の詳細については、公式ドキュメントを参照してください。\n\nGet natural earth world country polygons — ne_countries • rnaturalearth"
  },
  {
    "objectID": "posts/2026-01-31-r-japan-map/index.html#日本地図を県別に描画する",
    "href": "posts/2026-01-31-r-japan-map/index.html#日本地図を県別に描画する",
    "title": "Rで日本地図を描く",
    "section": "日本地図を県別に描画する",
    "text": "日本地図を県別に描画する\n県別の日本地図を描画するには、rnaturalearthhiresパッケージを使用します。 インストールは、GitHubもしくはR-universeから行います。\n\n\n\n\n\n\nNoteCRANからインストールができない理由\n\n\n\nパッケージのサイズがCRANの推奨を超えているため、CRANからのインストールができないようです。\n\n\nremotes::install_github(\"ropensci/rnaturalearthhires\")\nまたは、以下のコードでインストールします。\ninstall.packages(\n  \"rnaturalearthhires\",\n  repos = \"https://ropensci.r-universe.dev\",\n  type = \"source\"\n)\nもしくは、renvを使用している場合は、以下のコマンドでインストールします。\nrenv::install(\"ropensci/rnaturalearthhires\")\nパッケージを読み込みます。\n\nlibrary(rnaturalearthhires)\n\n県別の日本地図を取得し、描画します。\n\njapan_prefectures &lt;- ne_states(\n  country = \"Japan\",\n  returnclass = \"sf\"\n)\nplot(japan_prefectures[\"name_ja\"])\n\n\n\n\n\n\n\n海岸線もきれいに描画されていますね。\n\n\n\n\n\n\nNote公式ドキュメント\n\n\n\nna_states()関数の詳細については、公式ドキュメントを参照してください。\n\nGet natural earth world state (admin level 1) polygons — ne_states • rnaturalearth"
  },
  {
    "objectID": "posts/2026-01-31-r-japan-map/index.html#参考",
    "href": "posts/2026-01-31-r-japan-map/index.html#参考",
    "title": "Rで日本地図を描く",
    "section": "参考",
    "text": "参考\n\nHigh Resolution World Vector Map Data from Natural Earth used in rnaturalearth • rnaturalearthhires\nrnaturalearthhires - GitHub"
  },
  {
    "objectID": "posts/2026-01-24-code-filename/index.html",
    "href": "posts/2026-01-24-code-filename/index.html",
    "title": "Quartoでコードブロックのファイル名を表示する",
    "section": "",
    "text": "コードブロックにファイル名を表示する方法についてのメモです。 コードブロックにfilename属性を追加することで、ファイル名を表示できます。\nのように記述します。\n以下のように表示されます。\nちなみに```{.python}の部分は、シンタックスハイライトはするが、実行はしないという意味です。 ```pythonと同じ意味ですが、ファイル名を表示する場合は、前者の形式で記述する必要があります。"
  },
  {
    "objectID": "posts/2026-01-24-code-filename/index.html#参考",
    "href": "posts/2026-01-24-code-filename/index.html#参考",
    "title": "Quartoでコードブロックのファイル名を表示する",
    "section": "参考",
    "text": "参考\n\nHTML Code Blocks - Quarto\nMarkdown Basics - Quarto"
  },
  {
    "objectID": "posts/2024-03-14-cumsum/index.html",
    "href": "posts/2024-03-14-cumsum/index.html",
    "title": "Rで累積和を求める",
    "section": "",
    "text": "Rで累積和を求める方法です。 累積和は階段状に前に値を足していくものになります。 例えば、1,2,3だったら、最初は1より前はないので1、2つ目は\\(1+2=3\\)、3つ目は\\(3+3=6\\)になるので、結果は1,3,6ということになります。 Rではcumsum関数を用いて以下のように簡単に計算ができます。\n\nx &lt;- c(1, 2, 3)\ncumsum(x)\n\n[1] 1 3 6"
  },
  {
    "objectID": "posts/2024-06-18-basic_authentification/index.html",
    "href": "posts/2024-06-18-basic_authentification/index.html",
    "title": "BASIIC認証でつまったこと",
    "section": "",
    "text": "BASIC認証を使用したときのメモです。\n適切な.htacessと.htpasswdを作成したつもりが、500エラー(Internal Server Error)になってしまいました。\n原因は以下でした。\n\nAuthUserFileがAuthUserfileになっていた(fが小文字!)\nAuthNameの文字列のクォーテーションマークが\"(straight quotes)ではなく、“(smart quotes)になっていた。\n\nどちらも細かいですが、気づきにくいですね。\n参考サイトからコピペした弊害です。 コードは最初は手打ちしたほうが良いのかもしれないですね。\nその他もいろいろ落とし穴があるので、慣れないうちは特に細心の注意を払う必要がありますね。"
  },
  {
    "objectID": "posts/2026-02-01-chain-code/index.html",
    "href": "posts/2026-02-01-chain-code/index.html",
    "title": "Chain codeについて",
    "section": "",
    "text": "Chain code（チェインコード）は、2次元画像中の輪郭上の画素について、ある座標から隣接する座標への移動方向を符号化し、それを連続的に記録することで、形状を1次元のコード列として表現する方法です。 主に画像処理やコンピュータビジョンの分野で使用され、輪郭抽出や形状認識に役立ちます。\n例えば、よく用いられる8方向のチェインコードは以下のようになります。\nCodeplot(\n  0,\n  0,\n  xlim = c(-1.5, 1.5),\n  ylim = c(-1.5, 1.5),\n  type = \"n\",\n  xlab = \"\",\n  ylab = \"\",\n  xaxt = \"n\",\n  yaxt = \"n\",\n  asp = 1,\n  xaxs = \"i\",\n  yaxs = \"i\"\n)\naxis(1, at = c(-1, 0, 1), cex.axis = 2)\naxis(2, at = c(-1, 0, 1), las = 1, cex.axis = 2)\n\n\n# グリッド線を引く\nabline(h = -1:1, col = \"lightgray\")\nabline(v = -1:1, col = \"lightgray\")\n\n# ベクトルを描く\nlength_arrow &lt;- 0.2\nlwd_arrow &lt;- 5\narrows(0, 0, 1, 0, length = length_arrow, lwd = lwd_arrow) # 0\narrows(0, 0, 1, 1, length = length_arrow, lwd = lwd_arrow) # 1\narrows(0, 0, 0, 1, length = length_arrow, lwd = lwd_arrow) # 2\narrows(0, 0, -1, 1, length = length_arrow, lwd = lwd_arrow) # 3\narrows(0, 0, -1, 0, length = length_arrow, lwd = lwd_arrow) # 4\narrows(0, 0, -1, -1, length = length_arrow, lwd = lwd_arrow) # 5\narrows(0, 0, 0, -1, length = length_arrow, lwd = lwd_arrow) # 6\narrows(0, 0, 1, -1, length = length_arrow, lwd = lwd_arrow) # 7\n\n# ラベルをつける\ncex_text &lt;- 3\ntext(1, 0, \"0\", cex = cex_text, pos = 4)\ntext(1, 1, \"1\", cex = cex_text, pos = 4)\ntext(0, 1, \"2\", cex = cex_text, pos = 3)\ntext(-1, 1, \"3\", cex = cex_text, pos = 2)\ntext(-1, 0, \"4\", cex = cex_text, pos = 2)\ntext(-1, -1, \"5\", cex = cex_text, pos = 2)\ntext(0, -1, \"6\", cex = cex_text, pos = 1)\ntext(1, -1, \"7\", cex = cex_text, pos = 4)\nこのコードは、中心点から8方向への移動を示しています。 各方向には0から7までの番号が割り当てられています。 この番号を使って、形状の輪郭を辿る際の移動を符号化します。"
  },
  {
    "objectID": "posts/2026-02-01-chain-code/index.html#輪郭をchain-codeで表現する例",
    "href": "posts/2026-02-01-chain-code/index.html#輪郭をchain-codeで表現する例",
    "title": "Chain codeについて",
    "section": "輪郭をchain codeで表現する例",
    "text": "輪郭をchain codeで表現する例\n例えば、以下のような輪郭形状があるとします。 猫の顔のイメージです。\n\ndf_contour &lt;- data.frame(\n  x = c(0, 0, 1, 2, 3, 4, 5, 5, 5, 4, 3, 2, 1, 0, 0),\n  y = c(0, -1, -2, -2, -2, -2, -1, 0, 1, 2, 1, 1, 2, 1, 0)\n)\nplot(\n  df_contour$x,\n  df_contour$y,\n  type = \"n\",\n  xlab = \"X\",\n  ylab = \"Y\",\n  asp = 1,\n  xaxs = \"i\",\n  yaxs = \"i\",\n  xlim = c(-1, 6),\n  ylim = c(-3, 3),\n  xaxt = \"n\",\n  yaxt = \"n\",\n  cex.lab = 1.5\n)\naxis(1, at = 0:5, cex.axis = 1.5)\naxis(2, at = -2:2, las = 1, cex.axis = 1.5)\nabline(h = -3:3, col = \"lightgray\")\nabline(v = -1:6, col = \"lightgray\")\nlines(df_contour$x, df_contour$y, lwd = 3)\npoints(df_contour$x, df_contour$y, pch = 19, cex = 1.5)\n\n\n\n\n\n\n\nこの輪郭をchain codeで表現すると、以下のようになります。 開始点を(0,0)とし、時計回りに輪郭を辿るとします。\n(0,0),6,7,0,0,0,1,2,2,3,5,4,3,5,6\n\n\n\n\n\n\nNote輪郭を辿る方向\n\n\n\n今回は時計回りに輪郭を辿る例を示しましたが、反時計回りに辿ることも可能です。\n\n\nここで、各数字は前述の8方向のチェインコードに対応しています。 例えば、最初の「6」は(0,0)から(0,-1)への移動を示し、次の「7」は(0,-1)から(1,-1)への移動を示します。\n先ほどの図にベクトルを重ねてみます。\n\nplot(\n  df_contour$x,\n  df_contour$y,\n  type = \"n\",\n  xlab = \"X\",\n  ylab = \"Y\",\n  asp = 1,\n  xaxs = \"i\",\n  yaxs = \"i\",\n  xlim = c(-1, 6),\n  ylim = c(-3, 3),\n  xaxt = \"n\",\n  yaxt = \"n\",\n  cex.lab = 1.5\n)\naxis(1, at = 0:5, cex.axis = 1.5)\naxis(2, at = -2:2, las = 1, cex.axis = 1.5)\nabline(h = -3:3, col = \"lightgray\")\nabline(v = -1:6, col = \"lightgray\")\n\npoints(df_contour$x[1], df_contour$y[1], pch = 19, cex = 2, col = \"red\") # 開始点\n\n# ベクトルを描く\nlength_arrow &lt;- 0.2\nlwd_arrow &lt;- 2\narrows(0, 0, 0, -1, length = length_arrow, lwd = lwd_arrow) # 6\narrows(0, -1, 1, -2, length = length_arrow, lwd = lwd_arrow) # 7\narrows(1, -2, 2, -2, length = length_arrow, lwd = lwd_arrow) # 0\narrows(2, -2, 3, -2, length = length_arrow, lwd = lwd_arrow) # 0\narrows(3, -2, 4, -2, length = length_arrow, lwd = lwd_arrow) # 0\narrows(4, -2, 5, -1, length = length_arrow, lwd = lwd_arrow) # 1\narrows(5, -1, 5, 0, length = length_arrow, lwd = lwd_arrow) # 2\narrows(5, 0, 5, 1, length = length_arrow, lwd = lwd_arrow) # 2\narrows(5, 1, 4, 2, length = length_arrow, lwd = lwd_arrow) # 3\narrows(4, 2, 3, 1, length = length_arrow, lwd = lwd_arrow) # 5\narrows(3, 1, 2, 1, length = length_arrow, lwd = lwd_arrow) # 4\narrows(2, 1, 1, 2, length = length_arrow, lwd = lwd_arrow) # 3\narrows(1, 2, 0, 1, length = length_arrow, lwd = lwd_arrow) # 5\narrows(0, 1, 0, 0, length = length_arrow, lwd = lwd_arrow) # 6\n\n# ラベルをつける\ntext(\n  df_contour$x[-1] +\n    c(0, -0.5, -0.5, -0.5, -0.5, -0.5, 0, 0, 0.5, 0.5, 0.5, 0.5, 0.5, 0),\n  df_contour$y[-1] +\n    c(0.5, 0.5, 0, 0, 0, -0.5, -0.5, -0.5, -0.5, 0.5, 0, -0.5, 0.5, 0.5),\n  labels = c(\n    \"6\",\n    \"7\",\n    \"0\",\n    \"0\",\n    \"0\",\n    \"1\",\n    \"2\",\n    \"2\",\n    \"3\",\n    \"5\",\n    \"4\",\n    \"3\",\n    \"5\",\n    \"6\"\n  ),\n  offset = c(1, rep(0.5, length(df_contour$x) - 1)),\n  pos = c(2, 2, 1, 1, 1, 1, 4, 4, 4, 3, 3, 3, 3, 2),\n  cex = 2,\n  col = \"blue\"\n)"
  },
  {
    "objectID": "posts/2026-02-01-chain-code/index.html#座標をchain-codeに変換する",
    "href": "posts/2026-02-01-chain-code/index.html#座標をchain-codeに変換する",
    "title": "Chain codeについて",
    "section": "座標をchain codeに変換する",
    "text": "座標をchain codeに変換する\nRで座標データをchain codeに変換してみます。\n\n# x, yの差分を計算\ndx &lt;- df_contour$x[2:length(df_contour$x)] -\n  df_contour$x[1:(length(df_contour$x) - 1)]\ndy &lt;- df_contour$y[2:length(df_contour$y)] -\n  df_contour$y[1:(length(df_contour$y) - 1)]\n# 差分に基づいてchain codeを決定\nchain_code &lt;- c()\nfor (i in seq_along(dx)) {\n  if (dx[i] == 1 && dy[i] == 0) {\n    chain_code &lt;- c(chain_code, 0)\n  } else if (dx[i] == 1 && dy[i] == 1) {\n    chain_code &lt;- c(chain_code, 1)\n  } else if (dx[i] == 0 && dy[i] == 1) {\n    chain_code &lt;- c(chain_code, 2)\n  } else if (dx[i] == -1 && dy[i] == 1) {\n    chain_code &lt;- c(chain_code, 3)\n  } else if (dx[i] == -1 && dy[i] == 0) {\n    chain_code &lt;- c(chain_code, 4)\n  } else if (dx[i] == -1 && dy[i] == -1) {\n    chain_code &lt;- c(chain_code, 5)\n  } else if (dx[i] == 0 && dy[i] == -1) {\n    chain_code &lt;- c(chain_code, 6)\n  } else if (dx[i] == 1 && dy[i] == -1) {\n    chain_code &lt;- c(chain_code, 7)\n  }\n}\nprint(chain_code)\n\n [1] 6 7 0 0 0 1 2 2 3 5 4 3 5 6\n\n\nこのコードを関数化すると以下のようになります。\n\ncoords_to_chain_code &lt;- function(x, y) {\n  dx &lt;- x[2:length(x)] - x[1:(length(x) - 1)]\n  dy &lt;- y[2:length(y)] - y[1:(length(y) - 1)]\n  # 変位が1より大きい場合はエラー\n  if (any(abs(dx) &gt; 1) || any(abs(dy) &gt; 1)) {\n    stop(\"Invalid step detected: not 8-connected\")\n  }\n  chain_code &lt;- c()\n  for (i in seq_along(dx)) {\n    if (dx[i] == 1 && dy[i] == 0) {\n      chain_code &lt;- c(chain_code, 0)\n    } else if (dx[i] == 1 && dy[i] == 1) {\n      chain_code &lt;- c(chain_code, 1)\n    } else if (dx[i] == 0 && dy[i] == 1) {\n      chain_code &lt;- c(chain_code, 2)\n    } else if (dx[i] == -1 && dy[i] == 1) {\n      chain_code &lt;- c(chain_code, 3)\n    } else if (dx[i] == -1 && dy[i] == 0) {\n      chain_code &lt;- c(chain_code, 4)\n    } else if (dx[i] == -1 && dy[i] == -1) {\n      chain_code &lt;- c(chain_code, 5)\n    } else if (dx[i] == 0 && dy[i] == -1) {\n      chain_code &lt;- c(chain_code, 6)\n    } else if (dx[i] == 1 && dy[i] == -1) {\n      chain_code &lt;- c(chain_code, 7)\n    }\n  }\n  return(chain_code)\n}\n\n先ほどの座標データに対して関数を適用してみます。\n\nresult_chain_code &lt;- coords_to_chain_code(\n  df_contour$x,\n  df_contour$y\n)\nprint(result_chain_code)\n\n [1] 6 7 0 0 0 1 2 2 3 5 4 3 5 6\n\n\n同じchain codeが得られることが確認できます。"
  },
  {
    "objectID": "posts/2026-02-01-chain-code/index.html#chain-codeを座標に変換する",
    "href": "posts/2026-02-01-chain-code/index.html#chain-codeを座標に変換する",
    "title": "Chain codeについて",
    "section": "Chain codeを座標に変換する",
    "text": "Chain codeを座標に変換する\n今度は、chain codeから座標に変換する方法を示します。 まずは、普通に書いてみます。\n\nchain_code &lt;- c(6, 7, 0, 0, 0, 1, 2, 2, 3, 5, 4, 3, 5, 6)\n# 開始点の座標\nstart_x &lt;- 0\nstart_y &lt;- 0\n# 座標への変換\nx_coords &lt;- c(start_x)\ny_coords &lt;- c(start_y)\nfor (code in chain_code) {\n  last_x &lt;- tail(x_coords, n = 1)\n  last_y &lt;- tail(y_coords, n = 1)\n  if (code == 0) {\n    x_coords &lt;- c(x_coords, last_x + 1)\n    y_coords &lt;- c(y_coords, last_y)\n  } else if (code == 1) {\n    x_coords &lt;- c(x_coords, last_x + 1)\n    y_coords &lt;- c(y_coords, last_y + 1)\n  } else if (code == 2) {\n    x_coords &lt;- c(x_coords, last_x)\n    y_coords &lt;- c(y_coords, last_y + 1)\n  } else if (code == 3) {\n    x_coords &lt;- c(x_coords, last_x - 1)\n    y_coords &lt;- c(y_coords, last_y + 1)\n  } else if (code == 4) {\n    x_coords &lt;- c(x_coords, last_x - 1)\n    y_coords &lt;- c(y_coords, last_y)\n  } else if (code == 5) {\n    x_coords &lt;- c(x_coords, last_x - 1)\n    y_coords &lt;- c(y_coords, last_y - 1)\n  } else if (code == 6) {\n    x_coords &lt;- c(x_coords, last_x)\n    y_coords &lt;- c(y_coords, last_y - 1)\n  } else if (code == 7) {\n    x_coords &lt;- c(x_coords, last_x + 1)\n    y_coords &lt;- c(y_coords, last_y - 1)\n  }\n}\ndf_from_chain &lt;- data.frame(x = x_coords, y = y_coords)\nprint(df_from_chain)\n\n   x  y\n1  0  0\n2  0 -1\n3  1 -2\n4  2 -2\n5  3 -2\n6  4 -2\n7  5 -1\n8  5  0\n9  5  1\n10 4  2\n11 3  1\n12 2  1\n13 1  2\n14 0  1\n15 0  0\n\n\nプロットしてみます。\n\nplot(\n  df_from_chain$x,\n  df_from_chain$y,\n  type = \"l\",\n  xlab = \"X\",\n  ylab = \"Y\",\n  asp = 1,\n  las = 1,\n  cex.lab = 1.5,\n  cex.axis = 1.5\n)\n\n\n\n\n\n\n\n関数化します。\n\nchain_code_to_coords &lt;- function(chain_code, start_x = 0, start_y = 0) {\n  x_coords &lt;- c(start_x)\n  y_coords &lt;- c(start_y)\n  for (code in chain_code) {\n    last_x &lt;- tail(x_coords, n = 1)\n    last_y &lt;- tail(y_coords, n = 1)\n    if (code == 0) {\n      x_coords &lt;- c(x_coords, last_x + 1)\n      y_coords &lt;- c(y_coords, last_y)\n    } else if (code == 1) {\n      x_coords &lt;- c(x_coords, last_x + 1)\n      y_coords &lt;- c(y_coords, last_y + 1)\n    } else if (code == 2) {\n      x_coords &lt;- c(x_coords, last_x)\n      y_coords &lt;- c(y_coords, last_y + 1)\n    } else if (code == 3) {\n      x_coords &lt;- c(x_coords, last_x - 1)\n      y_coords &lt;- c(y_coords, last_y + 1)\n    } else if (code == 4) {\n      x_coords &lt;- c(x_coords, last_x - 1)\n      y_coords &lt;- c(y_coords, last_y)\n    } else if (code == 5) {\n      x_coords &lt;- c(x_coords, last_x - 1)\n      y_coords &lt;- c(y_coords, last_y - 1)\n    } else if (code == 6) {\n      x_coords &lt;- c(x_coords, last_x)\n      y_coords &lt;- c(y_coords, last_y - 1)\n    } else if (code == 7) {\n      x_coords &lt;- c(x_coords, last_x + 1)\n      y_coords &lt;- c(y_coords, last_y - 1)\n    }\n  }\n  return(data.frame(x = x_coords, y = y_coords))\n}\n\n先ほどのchain codeを使って関数を適用してみます。\n\nresult_coords &lt;- chain_code_to_coords(\n  chain_code,\n  start_x = 0,\n  start_y = 0\n)\nprint(result_coords)\n\n   x  y\n1  0  0\n2  0 -1\n3  1 -2\n4  2 -2\n5  3 -2\n6  4 -2\n7  5 -1\n8  5  0\n9  5  1\n10 4  2\n11 3  1\n12 2  1\n13 1  2\n14 0  1\n15 0  0\n\nplot(\n  result_coords$x,\n  result_coords$y,\n  type = \"l\",\n  xlab = \"X\",\n  ylab = \"Y\",\n  asp = 1,\n  las = 1,\n  cex.lab = 1.5,\n  cex.axis = 1.5\n)"
  },
  {
    "objectID": "posts/2026-02-03-quarto-japanese/index.html",
    "href": "posts/2026-02-03-quarto-japanese/index.html",
    "title": "QuartoのPDF出力で日本語を使う",
    "section": "",
    "text": "QuartoでPDFを出力する際、デフォルトの設定では日本語が正しく表示されないことがあります。 これは、LaTeXの設定が日本語に対応していないためです。 この記事では、Quartoで日本語を使うための設定方法を紹介します。"
  },
  {
    "objectID": "posts/2026-02-03-quarto-japanese/index.html#pdf出力をするための準備",
    "href": "posts/2026-02-03-quarto-japanese/index.html#pdf出力をするための準備",
    "title": "QuartoのPDF出力で日本語を使う",
    "section": "PDF出力をするための準備",
    "text": "PDF出力をするための準備\nPDF出力には、LaTexをインストールする必要があります。 公式で推奨されているのはTinyTeXです。\nターミナルで以下のコマンドを実行してインストールします。\n\n\nTerminal\n\nquarto install tinytex\n\n\n\n\n\n\n\nNoteLaTeXとは\n\n\n\nLaTeXは、高品質な文書を作成するための組版システムです。 特に学術論文や技術文書の作成に広く使用されています。 たくさんのコマンドを覚える必要がありますが、QuartoでPDF出力を行う際は、そこまで深く理解する必要はありません。\n\n\n\n\n\n\n\n\nNote\n\n\n\nLaTeXがインストールされていない状態で、PDF出力を試みると、エラーが発生します。 この時、quarto install tinytexを実行してTexをインストールするようにメッセージが表示されます。"
  },
  {
    "objectID": "posts/2026-02-03-quarto-japanese/index.html#pdf出力にする方法",
    "href": "posts/2026-02-03-quarto-japanese/index.html#pdf出力にする方法",
    "title": "QuartoのPDF出力で日本語を使う",
    "section": "PDF出力にする方法",
    "text": "PDF出力にする方法\nQuartoでPDFを出力するには、YAMLヘッダーに以下のようにformat: pdfを指定します。\n---\ntitle: \"ドキュメントのタイトル\"\nformat: pdf\n---\nこのようにすると、QuartoはPDF形式でドキュメントを生成します。 しかし、このままでは日本語が正しく表示されないことがあります。"
  },
  {
    "objectID": "posts/2026-02-03-quarto-japanese/index.html#日本語を正しく表示するための設定",
    "href": "posts/2026-02-03-quarto-japanese/index.html#日本語を正しく表示するための設定",
    "title": "QuartoのPDF出力で日本語を使う",
    "section": "日本語を正しく表示するための設定",
    "text": "日本語を正しく表示するための設定\n日本語を正しく表示するためには、YAMLヘッダーに以下の設定を追加します。\n---\ntitle: \"ドキュメントのタイトル\"\nformat:\n  pdf:\n    CJKmainfont: \"BIZ UDPGothic\"  # 使用する日本語フォントを指定\n---\nCJKmainfontには、システムにインストールされている日本語フォントの名前を指定します。 例えば、\"BIZ UDPGothic\"や\"Noto Sans CJK JP\"などがあります。\nmainfont: \"Font Name\"で指定することもできますが、その場合は英字や数字も指定したフォントで表示されるため、注意が必要です。\n\n\n\n\n\n\nNoteCJKmainfontについて\n\n\n\nCJKmainfontは、LaTeXで日本語を表示するために使用されるフォントを指定するオプションです。 ちなみにCはChinese、JはJapanese、KはKoreanの略です。 これらの言語は文字が多いため、専用のフォントが必要となります。\n\n\n\n\n\n\n\n\nNote利用できるフォントファイルを確認する方法\n\n\n\nLaTeXで利用できるフォントファイルを確認するには、ターミナルで以下のコマンドを実行します。\n\nWindowsの場合\n\n\nTerminal\n\nGet-ChildItem C:\\Windows\\Fonts | Select-Object Name\n\n\n\nmacOS/Linuxの場合\n未確認ですが、以下のコマンドで確認できると思いました。\n\n\nTerminal\n\nls /Library/Fonts/"
  },
  {
    "objectID": "posts/2026-02-03-quarto-japanese/index.html#参考",
    "href": "posts/2026-02-03-quarto-japanese/index.html#参考",
    "title": "QuartoのPDF出力で日本語を使う",
    "section": "参考",
    "text": "参考\n\nPDF Basics – Quarto\nPDF Options – Quarto"
  },
  {
    "objectID": "posts/2024-06-19-bookdown-url/index.html",
    "href": "posts/2024-06-19-bookdown-url/index.html",
    "title": "Bookdownで404エラーが出たときの原因の一つはURLエンコード",
    "section": "",
    "text": "Rの{bookdown}パッケージでドキュメントを作成したときに出会ったエラーについてのメモです。"
  },
  {
    "objectID": "posts/2024-06-19-bookdown-url/index.html#状況",
    "href": "posts/2024-06-19-bookdown-url/index.html#状況",
    "title": "Bookdownで404エラーが出たときの原因の一つはURLエンコード",
    "section": "状況",
    "text": "状況\nSynology NASで立ち上げたWebサーバー内にディレクトリを作成し、そこにbookdownのhtml outputのフォルダ(デフォルト名で_book)の中身をすべてコピーして外部からアクセスをできるようにしていました。\n普通に閲覧ができていたのですが、あるページだけなぜか404エラーが出るので困っていました。"
  },
  {
    "objectID": "posts/2024-06-19-bookdown-url/index.html#原因とその背景",
    "href": "posts/2024-06-19-bookdown-url/index.html#原因とその背景",
    "title": "Bookdownで404エラーが出たときの原因の一つはURLエンコード",
    "section": "原因とその背景",
    "text": "原因とその背景\n結論としては、URLエンコードの問題でした。 そのファイルは〇〇マップ.htmlという名前のファイルで、日本語が入っていました。\nASCIIコードではない日本語は、URLに含めることができないので、ページ名が日本語の場合は、URLエンコードという処理で、URL内に表現できる形に置き換えられます。\n例えば、日本語の「あ」であれば「%E3%81%82」に置き換えられます。 %と文字コードの組み合わせで変換をしているため、これをパーセントエンコーディングと呼ぶらしいです。\n「マップ」という文字列は、通常「%E3%83%9E%E3%83%83%E3%83%97」という文字列で変換されます。 それぞれの対応としては、\n\nマ: %E3%83%9E\nッ: %E3%83%83\nプ: %E3%83%97\n\nという感じです。\nですが、bookdownでビルドされたファイルのリンクでは「%E3%83%9E%E3%83%83%E3%83%95%E3%82%9A」と変換されていました。 違いとしては、「プ」が「フ」と「ﾟ」(半濁点)が分けてエンコードされているところです。\nつまり、本来は通常の「マップ」の方にリンクをしているはずが、リンクが半濁点のわけられた「マップ」にリンクしてしまっているために404エラー、つまり存在しないページに飛んでしまっていたということでした。"
  },
  {
    "objectID": "posts/2024-06-19-bookdown-url/index.html#対策",
    "href": "posts/2024-06-19-bookdown-url/index.html#対策",
    "title": "Bookdownで404エラーが出たときの原因の一つはURLエンコード",
    "section": "対策",
    "text": "対策\nとりあえず、レンダリング前のRmdファイルの見出しを「map」という感じで英語にしてこのエラーを回避しました。\nbookdownははUTF-8でコーディングしているので、日本語や漢字も普通に利用できますが、URLにするとたまによろしくないことが起こってしまうようですね。\nRmdファイルのheader1(#)をそのままレンダリングしたhtmlファイルのファイル名にする仕様になっているので、今回のエラーを避けるとしたら、英語を使うのが無難かもしれません。\n濁点と半濁点だけなのか、他の非ASCII文字でも起こるのかは未検証です。"
  },
  {
    "objectID": "posts/2024-06-19-bookdown-url/index.html#最後に",
    "href": "posts/2024-06-19-bookdown-url/index.html#最後に",
    "title": "Bookdownで404エラーが出たときの原因の一つはURLエンコード",
    "section": "最後に",
    "text": "最後に\n見た目はどちらも「マップ」で同じため、今回のエラーは原因がわかるまでかなり時間がかかりました。\n気づいた経緯は、アドレスバーにURLを手打ちしたらアクセスできたことからでした。 そこからアクセスできるときとできないときで、それぞれURLをエディタにコピペしたときにエンコーディングが異なっていることで解決できました。\n日本人の方向けの書類は日本語で作成するのが良いですが、日本語は何かとエラーの原因ですね。 ドキュメントは基本的に英語で作成して、補足的に日本語を入れたほうが良いのかもと思った今回の件でした。"
  },
  {
    "objectID": "posts/2024-06-19-bookdown-url/index.html#参考",
    "href": "posts/2024-06-19-bookdown-url/index.html#参考",
    "title": "Bookdownで404エラーが出たときの原因の一つはURLエンコード",
    "section": "参考",
    "text": "参考\nURLエンコードについては、以下のサイト様を利用させていただきました。\nURLエンコード・デコード\nありがとうございました。"
  },
  {
    "objectID": "posts/2026-01-27-make-unique/index.html",
    "href": "posts/2026-01-27-make-unique/index.html",
    "title": "Rでベクトルの重複を取り除く方法",
    "section": "",
    "text": "Rでベクトルの要素が重複している場合に、重複を取り除いてユニークな要素にする方法についてのメモです。 make.unique() 関数を使用すると、重複する要素に自動的に接尾辞を追加してユニークな要素に変換できます。 使用法は以下のようになります。\nmake.unique(names, sep = \".\")\n\n\nnames: ユニークにしたい文字ベクトル\n\nsep: 重複する要素に追加する接尾辞の区切り文字（デフォルトはドット .）"
  },
  {
    "objectID": "posts/2026-01-27-make-unique/index.html#make.unique関数の使用法",
    "href": "posts/2026-01-27-make-unique/index.html#make.unique関数の使用法",
    "title": "Rでベクトルの重複を取り除く方法",
    "section": "",
    "text": "Rでベクトルの要素が重複している場合に、重複を取り除いてユニークな要素にする方法についてのメモです。 make.unique() 関数を使用すると、重複する要素に自動的に接尾辞を追加してユニークな要素に変換できます。 使用法は以下のようになります。\nmake.unique(names, sep = \".\")\n\n\nnames: ユニークにしたい文字ベクトル\n\nsep: 重複する要素に追加する接尾辞の区切り文字（デフォルトはドット .）"
  },
  {
    "objectID": "posts/2026-01-27-make-unique/index.html#使用例",
    "href": "posts/2026-01-27-make-unique/index.html#使用例",
    "title": "Rでベクトルの重複を取り除く方法",
    "section": "使用例",
    "text": "使用例\n例えば、以下のようなベクトルがあるとします。\n\nx &lt;- c(\"apple\", \"banana\", \"apple\", \"orange\", \"banana\")\n\nこのベクトルに対してmake.unique()を適用すると、以下のようになります。\n\nunique_x &lt;- make.unique(x)\nprint(unique_x)\n\n[1] \"apple\"    \"banana\"   \"apple.1\"  \"orange\"   \"banana.1\"\n\n\nappleとbananaが重複しているため、単語の後ろに.1が追加されています。"
  },
  {
    "objectID": "posts/2026-01-27-make-unique/index.html#最後に",
    "href": "posts/2026-01-27-make-unique/index.html#最後に",
    "title": "Rでベクトルの重複を取り除く方法",
    "section": "最後に",
    "text": "最後に\nどこで活用したかは思い出せませんが、かつてこの関数を使用したことがあり、思い出したためメモとして残しました。 活用の機会は限定的かもしれませんが、知っておくと便利な時があるかもしれません。"
  },
  {
    "objectID": "posts/2026-01-29-quarto-code-linking-github-action/index.html",
    "href": "posts/2026-01-29-quarto-code-linking-github-action/index.html",
    "title": "Github ActionsでQuartoのコードリンク機能を有効にする方法",
    "section": "",
    "text": "Quartoでウェブサイトを作成する際に、code-linkオプションを有効にしていても、Github Actionsでビルドした際にコードリンクが機能しませんでした。 この問題を解決した際のメモを残します。 まとまりのない文章になってしまっていること、あらかじめご了承ください。"
  },
  {
    "objectID": "posts/2026-01-29-quarto-code-linking-github-action/index.html#code-linkオプションとは",
    "href": "posts/2026-01-29-quarto-code-linking-github-action/index.html#code-linkオプションとは",
    "title": "Github ActionsでQuartoのコードリンク機能を有効にする方法",
    "section": "code-linkオプションとは",
    "text": "code-linkオプションとは\ncode-linkオプションは、Quartoのコードブロック内で使用されている関数にドキュメントリンクを自動的に追加するためのオプションです。 このオプションを有効にすると、コードブロック内の関数名がリンク付きで表示され、対応するドキュメントページに移動できるようになります。\n例えば、plot()と書くと、関数にマウスを合わせた際にリンクが表示され、クリックするとRの公式ドキュメントのplot()関数のページに移動します。 うまくリンクが追加されているでしょうか。\n\n\n\n\n\n\nNote\n\n\n\ncode-linkオプションについては以下の公式ドキュメントを参照してください。\n\nHTML Code Blocks - Quarto\nHTML Options - Quarto"
  },
  {
    "objectID": "posts/2026-01-29-quarto-code-linking-github-action/index.html#現在の状況",
    "href": "posts/2026-01-29-quarto-code-linking-github-action/index.html#現在の状況",
    "title": "Github ActionsでQuartoのコードリンク機能を有効にする方法",
    "section": "現在の状況",
    "text": "現在の状況\n現在、Github ActionsでQuartoのwebsiteをビルドしています。\n\n\n\n\n\n\nNote\n\n\n\nGitHub ActionsでQuartoのwebsiteをビルドする方法については、以下の公式ドキュメントを参照してください。\n\nGitHub Pages - Quarto\n\n\n\n_quarto.ymlファイルを一部抜粋します。\n\n\n_quarto.yml\n\nformat:\n  html:\n    code-link: true\n    code-line-numbers: false \n    code-annotations: false\n\nこれでcode-linkは有効化されるはずです。 実際に、ローカル環境でビルドした際には、コードブロック内の関数にドキュメントリンクが追加されていました。\nしかし、Github Actionsでビルドした際には、コードリンクが追加されていませんでした。 実際にソースコードを確認したところ、関数へのリンクが生成されていませんでした。"
  },
  {
    "objectID": "posts/2026-01-29-quarto-code-linking-github-action/index.html#考えられる原因と解決策",
    "href": "posts/2026-01-29-quarto-code-linking-github-action/index.html#考えられる原因と解決策",
    "title": "Github ActionsでQuartoのコードリンク機能を有効にする方法",
    "section": "考えられる原因と解決策",
    "text": "考えられる原因と解決策\nGitHub Actionsのビルドでは、code linkingに必要なdownlitパッケージがうまく動作していないのではないかと考えました。\nそこで、以下のように.github/workflows/publish.ymlファイルを修正しました。\n\n\n.github/workflows/publish.yml\n\non:\n  workflow_dispatch:\n  push:\n    branches: main\n\nname: Quarto Publish\n\njobs:\n  build-deploy:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: write\n    steps:\n      - name: Check out repository\n        uses: actions/checkout@v4\n\n      - name: Set up Quarto\n        uses: quarto-dev/quarto-actions/setup@v2\n\n      - name: Install R\n        uses: r-lib/actions/setup-r@v2\n        with:\n          r-version: \"4.5.2\"\n\n      - name: Install system dependencies\n        run: |\n          sudo apt-get update\n          sudo apt-get install -y \\\n            libpng-dev \\\n            libjpeg-dev \\\n            libtiff-dev \\\n            libfftw3-dev \\\n            libglpk-dev \\\n            libx11-dev \\\n            libxt-dev \\\n            pandoc\n\n      - name: Install R Dependencies\n        uses: r-lib/actions/setup-renv@v2\n        with:\n          cache-version: 1\n\n      - name: Render and Publish\n        uses: quarto-dev/quarto-actions/publish@v2\n        with:\n          target: gh-pages\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n\nこれは、QuartoドキュメントのExample: Knitr with renvを参考にしつつ、生じたエラーをもとに調整したものです。\nr-version: \"4.5.2\"とInstall system dependenciesの部分が具体的な変更点です。"
  },
  {
    "objectID": "posts/2026-01-29-quarto-code-linking-github-action/index.html#具体的な解決までの流れ",
    "href": "posts/2026-01-29-quarto-code-linking-github-action/index.html#具体的な解決までの流れ",
    "title": "Github ActionsでQuartoのコードリンク機能を有効にする方法",
    "section": "具体的な解決までの流れ",
    "text": "具体的な解決までの流れ\n以下に具体的な流れを示します。\n\n1. freezeの確認\n_quarto.yml内でfreeze: autoが設定されていることを確認します。\n\n\n_quarto.yml\n\nexecute:\n  freeze: auto\n\n\n\n\n\n\n\nNote\n\n\n\nfreezeオプションについては以下の公式ドキュメントを参照してください。\n\nManaging Execution - Quarto\n\n\n\nその後、一度ローカル環境でサイトをレンダリングします。\n\n\nTerminal\n\nquarto render\n\nレンダリング後、_freezeフォルダが生成されていることを確認します。\n\n\n2. renvのセットアップ\nまだrenvを使用していない場合、プロジェクトにrenvをセットアップします。 もし、renvパッケージがインストールされていない場合、以下のコマンドでインストールします。\ninstall.packages(\"renv\")\n\n\n\n\n\n\nNote\n\n\n\nrenvパッケージについては以下の公式ドキュメントを参照してください。\n\nIntroduction to renv - renv\n\n\n\nインストールが完了したら、以下のコマンドでrenvを初期化します。\nrenv::init()\nrenvが初期化されると、プロジェクトにrenv.lockファイルなどの関連ファイルやフォルダが生成されます。 これらのファイルはGitHubリポジトリにコミットします。\n\n\n\n\n\n\nNote\n\n\n\nrenv/libraryなどはrenv/.gitignoreに含まれているため、コミットされません。デフォルトのままコミットして構いません。\n\n\n\n\n3. 公開用サイトの初期化とブランチの作成\n以下のコマンドを実行します。\n\n\nTerminal\n\nquarto publish gh-pages\n\n\n\n4. Github Actionsワークフローファイルの作成\n.github/workflows/publish.ymlファイルを作成し、以下のように設定します。\n\n\n.github/workflows/publish.yml\n\non:\n  workflow_dispatch:\n  push:\n    branches: main\n\nname: Quarto Publish\n\njobs:\n  build-deploy:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: write\n    steps:\n      - name: Check out repository\n        uses: actions/checkout@v4\n\n      - name: Set up Quarto\n        uses: quarto-dev/quarto-actions/setup@v2\n\n      - name: Install R\n        uses: r-lib/actions/setup-r@v2\n        with:\n          r-version: \"4.5.2\"\n\n      - name: Install system dependencies\n        run: |\n          sudo apt-get update\n          sudo apt-get install -y \\\n            libpng-dev \\\n            libjpeg-dev \\\n            libtiff-dev \\\n            libfftw3-dev \\\n            libglpk-dev \\\n            libx11-dev \\\n            libxt-dev \\\n            pandoc\n\n      - name: Install R Dependencies\n        uses: r-lib/actions/setup-renv@v2\n        with:\n          cache-version: 1\n\n      - name: Render and Publish\n        uses: quarto-dev/quarto-actions/publish@v2\n        with:\n          target: gh-pages\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n\nこのファイルで行っていることを簡単に列挙すると以下の通りです。\n\nリポジトリのチェックアウト\nQuartoのセットアップ\nRのインストール\n必要なシステム依存関係のインストール\nrenvを使用してRパッケージのインストール\nQuartoドキュメントのレンダリングと公開\n\nまた、以下の部分のRのバージョンについては、renvで使用しているRのバージョンに合わせることで、問題が起こりにくくなると思います。\n\n\n.github/workflows/publish.yml\n\n      - name: Install R\n        uses: r-lib/actions/setup-r@v2\n        with:\n          r-version: \"4.5.2\"\n\nまた、Install system dependenciesの部分はエラーを見ながら追加した部分ですが、その他エラーを見ながら調整してください。\n\n\n.github/workflows/publish.yml\n\n      - name: Install system dependencies\n        run: |\n          sudo apt-get update\n          sudo apt-get install -y \\\n            libpng-dev \\\n            libjpeg-dev \\\n            libtiff-dev \\\n            libfftw3-dev \\\n            libglpk-dev \\\n            libx11-dev \\\n            libxt-dev \\\n            pandoc\n\n\n\n5. Githubリポジトリへのコミットとプッシュ\nここまでの変更をGithubリポジトリにコミットし、プッシュします。\n\n\nTerminal\n\ngit add .\ngit commit -m \"Set up GitHub Actions for Quarto with code-linking\"\ngit push origin main\n\n私は最近はGitHub Desktopを使用しているため、GUIでコミットとプッシュを行いました。\nこれで、GitHub Actionsがトリガーされ、Quartoのwebsiteがビルドされます。 GitHub上でActionsタブを確認します。\n公式ドキュメントの例では、Install system dependenciesの部分は入っていません。\nしかし、私の環境ではこの部分を追加しないとInstall R Dependenciesの部分でエラーが生じ、ビルドが失敗しました。\n具体的には、Error: Error: Error installing package 'tiff':のようなエラーが発生しました。\nこのようなエラーが生じたら、Install system dependenciesの部分を追加してみてください。\n例えば、Error: Error: Error installing package 'tiff':のエラーが生じたときには、libtiff-devを追加することで解決しました。\n\n\n.github/workflows/publish.yml\n\n      - name: Install system dependencies\n        run: |\n          sudo apt-get update\n          sudo apt-get install -y \\\n            libtiff-dev \\\n\nこのような試行錯誤を何度か繰り返し、最終的な.github/workflows/publish.ymlファイルが先述のように完成しました。\n\n\n\n\n\n\nNote\n\n\n\nこれらのビルドのためのActionでは一回で約8分くらいかかりました。 粘り強い試行錯誤が必要になるかもしれません。 私の書いた.github/workflows/publish.ymlファイルがそのまま使えるかはわかりませんが、参考にしてみてください。\n\n\n\n\n6. downlitとxml2パッケージのrenvへの追加\nここまでの手順で、Github ActionsでQuartoのwebsiteをビルドした際に、エラーは生じず、コードリンクが正しく機能すると考えていましたが、これでもうまくいきませんでした。\nRender and Publishのステップで以下のような警告が出ていました。\nWarning message:\nThe downlit and xml2 packages are required for code linking \nどうやら、ローカルの環境には含まれているものの、GItHub Actionsのビルド環境には明示的依存として認識されていなかったようです。\nそこで、レンダリングする.qmdファイルの先頭に以下のように追記しました。\nrenv::install(c(\"downlit\", \"xml2\"))\nlibrary(downlit)\nlibrary(xml2)\nrenv::snapshot()\nこの状態でいったんローカルでビルドし、renv.lockファイルが更新されたことを確認します。 その後、renv.lockファイルをGitHubリポジトリにコミットし、プッシュします。 このとき、GitHub Actionsのログを確認すると、先ほどの警告は生じないことがわかりました。 また、実際にGithub上でビルドされたwebsiteを確認すると、コードリンクが正しく機能していることがわかりました。\nその後、先ほど挿入した\nrenv::install(c(\"downlit\", \"xml2\"))\nlibrary(downlit)\nlibrary(xml2)\nrenv::snapshot()\nを消去しても問題なくコードリンクが機能していました。\n\n\n\n\n\n\nNote\n\n\n\nこのやり方が最適なのかはわかりませんが、私の場合はこれでうまくいきました。 もっと良い方法があるのかもしれません。"
  },
  {
    "objectID": "posts/2026-01-29-quarto-code-linking-github-action/index.html#最後に",
    "href": "posts/2026-01-29-quarto-code-linking-github-action/index.html#最後に",
    "title": "Github ActionsでQuartoのコードリンク機能を有効にする方法",
    "section": "最後に",
    "text": "最後に\nとりとめのない文章になってしまいましたが、Github ActionsでQuartoのwebsiteをビルドする際に、コードリンク機能を有効にする方法についてのメモを残しました。 この記事が同じ問題に直面している方の参考になれば幸いです。"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Maple60’s Website",
    "section": "",
    "text": "Hello World\n\n\nAbout\n\n\nI will blog contents mainly about programming I learned.\n\n\nPlease note that the contents may include misinformation because I am not an expert.\n\n\nI mainly use below languages;\n\n\n\nR\n\n\nPython\n\n\nJavascript\n\n\n\nThis blog is made with Quarto.\n\n\n\nこのページについて\n\n\n主にプログラミングについて学んだことについて、いろいろなことをメモを書いていきます。\n\n\n内容については、誤りも含む可能性もございますのでご了承ください。\n\n\n筆者は以下のプログラミング言語を主に使用します。\n\n\n\nR\n\n\nPython\n\n\nJavaScript"
  },
  {
    "objectID": "posts/2024-03-04-color-circle/index.html",
    "href": "posts/2024-03-04-color-circle/index.html",
    "title": "Rで色相環を作成する",
    "section": "",
    "text": "もともとはDeepFlowというアルゴリズムを色々試していたときに、成果物に挿入しようと思って模索したときに作ったコードです。 Rで実現しました。 PDFやSVGといったベクタ形式で描画するとありえないくらい重くなるので、pngやjpegなどラスタ画像(透過すること多いのでPNGがおすすめ)で描画することが必要です。\nlen &lt;- 1000\nr &lt;- seq(from = 0, to = 1, length.out = len)\ntheta &lt;- seq(from = 0, to = 2 * pi, length.out = len)\n\nplot(-1:1, -1:1, asp = 1, axes = FALSE, xlab = \"\", ylab = \"\", type = \"n\")\nfor (i in 1:len) {\n  ri &lt;- r[i]\n  for (j in 1:len) {\n    if (j == 1) {\n      thetai0 &lt;- 0\n    } else {\n      thetai0 &lt;- theta[j - 1]\n    }\n    thetai1 &lt;- theta[j]\n    segments(\n      ri * cos(thetai0),\n      ri * sin(thetai0),\n      ri * cos(thetai1),\n      ri * sin(thetai1),\n      col = hsv(h = thetai1 / (2 * pi), s = ri, v = 1)\n    )\n  }\n}"
  },
  {
    "objectID": "posts/2026-01-25-zotero-plugins/index.html",
    "href": "posts/2026-01-25-zotero-plugins/index.html",
    "title": "導入しているZoteroプラグインのまとめ",
    "section": "",
    "text": "文献管理ソフトZoteroで使用しているプラグインのまとめです。 いろいろ試しましたが、以下のプラグインが便利だと感じています。 (アルファベット順)"
  },
  {
    "objectID": "posts/2026-01-25-zotero-plugins/index.html#better-bibtex-for-zotero",
    "href": "posts/2026-01-25-zotero-plugins/index.html#better-bibtex-for-zotero",
    "title": "導入しているZoteroプラグインのまとめ",
    "section": "Better BibTeX for Zotero",
    "text": "Better BibTeX for Zotero\n\nウェブサイト\n\nZoteroでBibTeX形式で文献情報をエクスポートする際に便利なプラグインです。 特に、文献情報のキーをカスタマイズしたり、BibTeXファイルを自動的に更新したりする機能があります。 これ単体を使うというよりは、ほかのソフトウェアやツールと連携して使うことが多いです。"
  },
  {
    "objectID": "posts/2026-01-25-zotero-plugins/index.html#ethereal-style",
    "href": "posts/2026-01-25-zotero-plugins/index.html#ethereal-style",
    "title": "導入しているZoteroプラグインのまとめ",
    "section": "Ethereal Style",
    "text": "Ethereal Style\n\nGitHubリポジトリ\n\nZoteroの見た目をカスタマイズしたり、インターフェースを改善したりするプラグインです。 論文一覧画面の列に新しいカスタム列を追加したり、関連論文をネットワークグラフで表示したり、PDFのスタイルを変更したりといった、様々な機能があります。\n個人的には、論文の読んだ進捗を表示する機能が便利で、どの論文をどれだけ読んだかを一目で把握できるため、重宝しています。\n\n\n\n\n\n\nNote\n\n\n\nかつてはZotero Styleという名前だった気がします。"
  },
  {
    "objectID": "posts/2026-01-25-zotero-plugins/index.html#translate-for-zotero",
    "href": "posts/2026-01-25-zotero-plugins/index.html#translate-for-zotero",
    "title": "導入しているZoteroプラグインのまとめ",
    "section": "Translate for Zotero",
    "text": "Translate for Zotero\n\nGitHubリポジトリ\n\n文献のPDFやEPubなどを翻訳するプラグインです。 翻訳したい部分を選択するだけで、Google翻訳やDeepL翻訳を使って翻訳結果を表示してくれます。 翻訳結果はノートや注釈として保存することができます。"
  },
  {
    "objectID": "posts/2026-01-25-zotero-plugins/index.html#zotcard",
    "href": "posts/2026-01-25-zotero-plugins/index.html#zotcard",
    "title": "導入しているZoteroプラグインのまとめ",
    "section": "ZotCard",
    "text": "ZotCard\n\nGitHubリポジトリ\n\nカードのような形式でノートをまとめることができるプラグインです。 テンプレートを作る機能があり、この機能をよく使っています。"
  },
  {
    "objectID": "posts/2026-01-25-zotero-plugins/index.html#zotero-annanger",
    "href": "posts/2026-01-25-zotero-plugins/index.html#zotero-annanger",
    "title": "導入しているZoteroプラグインのまとめ",
    "section": "Zotero Annanger",
    "text": "Zotero Annanger\n\nGitHubリポジトリ\n\n文献の添付ファイルを管理するためのプラグインです。 添付ファイルを指定したファイルに移動したり、ファイルのリネームをしたりしてくれます。 DropboxやGoogle Driveなどのクラウドストレージと連携して使う際に便利です。\n\n\n\n\n\n\nNote\n\n\n\nZotero6まではZotFileというプラグインが有名でしたが、Zotero7になってからは対応しておらず、こちらのプラグインを使用しております。"
  },
  {
    "objectID": "posts/2026-01-25-zotero-plugins/index.html#zotero-reading-list",
    "href": "posts/2026-01-25-zotero-plugins/index.html#zotero-reading-list",
    "title": "導入しているZoteroプラグインのまとめ",
    "section": "Zotero Reading List",
    "text": "Zotero Reading List\n\nGitHubリポジトリ\n\n文献の読書ステータスを管理するためのプラグインです。 文献に⭐ New, 📙 To Read, 📖 In Progress, 📗 Read, 📕 Not Reading のステータスをつけてくれます。 自分でカスタムステータスを追加することも可能です。"
  },
  {
    "objectID": "posts/2026-01-25-zotero-plugins/index.html#zotseek",
    "href": "posts/2026-01-25-zotero-plugins/index.html#zotseek",
    "title": "導入しているZoteroプラグインのまとめ",
    "section": "ZotSeek",
    "text": "ZotSeek\n\nGitHubリポジトリ\n\nローカルAIを使用して、特定の語句や論文に意味合いが近い論文を検索する(AI semantic search)プラグインです。 ローカルAIを使用しているため、インターネット接続が不要で、情報が外部に送信されることもありません。\n特に、似ている論文を探す機能が便利で、ある論文を基準にして、その論文と内容が似ている論文をZoteroライブラリ内から探し出すことができます。\nローカルAIを使用するということで、速度が心配でしたが、実際に使ってみると非常に高速で、ストレスなく使用できています。(100ミリ秒未満で応答されるとのことです。) さらに、現在はCPUベースで動作しますが、将来的にはGPUベースでの動作もサポートされる予定とのことです。"
  },
  {
    "objectID": "posts/2026-01-25-zotero-plugins/index.html#感謝",
    "href": "posts/2026-01-25-zotero-plugins/index.html#感謝",
    "title": "導入しているZoteroプラグインのまとめ",
    "section": "感謝",
    "text": "感謝\nこれらのプラグインを開発・提供してくださっている方々に深く感謝いたします。 Zotero自体もオープンソースで提供されており、非常に便利な文献管理ツールです。 Zoteroコミュニティの皆様にも感謝申し上げます。"
  },
  {
    "objectID": "posts/2026-02-25-r-plot-transparent/index.html",
    "href": "posts/2026-02-25-r-plot-transparent/index.html",
    "title": "Rのプロットで色に透明度を指定する方法",
    "section": "",
    "text": "Rのプロットで、色に透明度を指定する方法についてまとめます。 例えば、散布図を描くときに、点が重なっている部分がわかりづらいことがあります。 例えば、以下のような散布図を描いたとします。\nset.seed(1)\nx &lt;- rnorm(1000)\ny &lt;- rnorm(1000)\nplot(x, y)\n塗りつぶしをすると、なおさら点が重なっている部分がわかりづらくなります。\nplot(x, y, pch = 16)\nこのように点が重なっている部分が多い場合、点の色に透明度を指定することで、重なっている部分がわかりやすくなります。 Rでは主に以下の方法で、色に透明度を指定することができます。"
  },
  {
    "objectID": "posts/2026-02-25-r-plot-transparent/index.html#進数のカラーコードの後ろに透明度を指定する方法",
    "href": "posts/2026-02-25-r-plot-transparent/index.html#進数のカラーコードの後ろに透明度を指定する方法",
    "title": "Rのプロットで色に透明度を指定する方法",
    "section": "16進数のカラーコードの後ろに透明度を指定する方法",
    "text": "16進数のカラーコードの後ろに透明度を指定する方法\nRでは、16進数のカラーコードの後ろに透明度を指定することができます。 例えば、#RRGGBBAAの形式で、AAの部分に透明度を指定することができます。 例えば、以下のようにして、点の色に透明度を指定することができます。\n\n\n\n\n\n\nNoteカラーコード\n\n\n\nカラーコードは、色を表すためのコードで、通常は#RRGGBBの形式で表されます。\n\n\nRRは赤の値を16進数で表したもの（00からFFまで）\n\nGGは緑の値を16進数で表したもの（00からFFまで）\n\nBBは青の値を16進数で表したもの（00からFFまで）\n\n例えば、#0000FFは青を表すカラーコードです。\n\n\n\nplot(x, y, pch = 16, col = \"#0000FF80\")"
  },
  {
    "objectID": "posts/2026-02-25-r-plot-transparent/index.html#adjustcolorを使う方法",
    "href": "posts/2026-02-25-r-plot-transparent/index.html#adjustcolorを使う方法",
    "title": "Rのプロットで色に透明度を指定する方法",
    "section": "\nadjustcolor()を使う方法",
    "text": "adjustcolor()を使う方法\nadjustcolor()は、既存の色を微調整するための関数です。 alpha.f引数を使って、透明度を指定することができます。 例えば、以下のようにして、点の色に透明度を指定することができます。\n\nplot(x, y, pch = 16, col = adjustcolor(\"blue\", alpha.f = 0.5))\n\n\n\n\n\n\n\nこのようにすると、点の色が半透明になり、重なっている部分がわかりやすくなります。 また、このほうであれば、色の名前を直接指定できるため、カラーコードを覚える必要がありません。 一つの色を複数の透明度で使いたい場合などは、adjustcolor()を使う方法が便利です。 例えば、以下のようにして、点や線の色に異なる透明度を指定することができます。\n\nplot(x, y, pch = 16, col = adjustcolor(\"blue\", alpha.f = 0.9))\n\n# 95%信頼区間を描く\nmodel &lt;- lm(y ~ x)\nord &lt;- order(x)\nx_sorted &lt;- x[ord]\nconf &lt;- predict(model, interval = \"confidence\")\nconf_sorted &lt;- conf[ord, ]\n\npolygon(\n  c(x_sorted, rev(x_sorted)),\n  c(conf_sorted[, 2], rev(conf_sorted[, 3])),\n  col = adjustcolor(\"blue\", alpha.f = 0.5),\n  border = NA\n)\n\n# 回帰線を描く\nabline(model, col = adjustcolor(\"blue\", alpha.f = 0.8), lwd = 5)"
  },
  {
    "objectID": "posts/2026-02-25-r-plot-transparent/index.html#rgbを使う方法",
    "href": "posts/2026-02-25-r-plot-transparent/index.html#rgbを使う方法",
    "title": "Rのプロットで色に透明度を指定する方法",
    "section": "\nrgb()を使う方法",
    "text": "rgb()を使う方法\nrgb()は、赤、緑、青の値を指定して色を作成する関数です。 alpha引数を使って、透明度を指定することができます。 例えば、以下のようにして、点の色に透明度を指定することができます。\n\nplot(x, y, pch = 16, col = rgb(0, 0, 1, alpha = 0.5))\n\n\n\n\n\n\n\nこのようにすると、点の色が半透明になり、重なっている部分がわかりやすくなります。 また、この方法では、赤、緑、青の値を直接指定できるため、細かい色の調整が可能です。 注意点としては、各色の値は0から1の範囲で指定する必要があることです。"
  },
  {
    "objectID": "posts/2026-02-25-r-plot-transparent/index.html#個人的な好み",
    "href": "posts/2026-02-25-r-plot-transparent/index.html#個人的な好み",
    "title": "Rのプロットで色に透明度を指定する方法",
    "section": "個人的な好み",
    "text": "個人的な好み\n個人的には、adjustcolor()を使う方法が便利で、よく使用しています。 その次に直接カラーコードを指定する方法を使用することが多いです。 rgb() はほとんど使用したことがありません。\nadjustcolor()を使う場合は、既存の色名を直接指定できるのがとても便利だと思っております。 色名だけでなく、デフォルトカラーのインデックスを指定することもできます。\n\nplot(x, y, pch = 16, col = adjustcolor(2, alpha.f = 0.5))\n\n\n\n\n\n\n\n覚えておくと便利です。"
  },
  {
    "objectID": "posts/2026-02-05-r-aspect-ratio/index.html",
    "href": "posts/2026-02-05-r-aspect-ratio/index.html",
    "title": "Rのプロットのアスペクト比を設定する方法",
    "section": "",
    "text": "Rのプロット関数(例えばplot())では、aspパラメータを使用してアスペクト比を設定できます。 アスペクト比は、y軸の単位長さがx軸の単位長さの何倍であるかを指定します。"
  },
  {
    "objectID": "posts/2026-02-05-r-aspect-ratio/index.html#aspパラメータの使用例",
    "href": "posts/2026-02-05-r-aspect-ratio/index.html#aspパラメータの使用例",
    "title": "Rのプロットのアスペクト比を設定する方法",
    "section": "\naspパラメータの使用例",
    "text": "aspパラメータの使用例\nplot()内にaspパラメータを指定することで、アスペクト比を調整できます。\n\nplot(1:10, 1:10) # デフォルトのアスペクト比\n\n\n\n\n\n\nplot(1:10, 1:10, asp = 1) # アスペクト比1:1\n\n\n\n\n\n\n\n上記の例では、asp = 1と設定しているため、x軸とy軸の単位長さが等しくなります。 もしasp = 2と設定すると、y軸の単位長さがx軸の単位長さの2倍になります。\n\nplot(1:10, 1:10, asp = 2)"
  },
  {
    "objectID": "posts/2026-02-05-r-aspect-ratio/index.html#プロット領域も含めたアスペクト比の調整",
    "href": "posts/2026-02-05-r-aspect-ratio/index.html#プロット領域も含めたアスペクト比の調整",
    "title": "Rのプロットのアスペクト比を設定する方法",
    "section": "プロット領域も含めたアスペクト比の調整",
    "text": "プロット領域も含めたアスペクト比の調整\nこれは、1:1プロットを作るときに便利です。 1:1の線を描画したい場合などに使用します。 このとき、プロット領域の形状によっては、実際の表示が正方形にならないことがあります。 その場合は、par(pty = \"s\")を使用してプロット領域を正方形に設定することもできます。\n\npar(pty = \"s\") # プロット領域を正方形に設定\n\nx &lt;- rnorm(10, mean = 1, sd = 0.1) * 1:10\ny &lt;- rnorm(10, mean = 1, sd = 0.1) * 1:10\n\nplot(x, y, asp = 1)\nplot(x, y, asp = 1)\nabline(0, 1, lty = 2)\n\n\n\n\n\n\npar(pty = \"m\") # プロット領域を元に戻す\n\n\n\n\n\n\n\nNote補足説明\n\n\n\n\n\nrnorm(): 正規分布に従う乱数を生成する関数です。ここでは、平均1、標準偏差0.1の乱数を生成しています。\n\nabline(0, 1, lty = 2): y = xの直線を破線で描画しています。lty = 2は破線を意味します。"
  },
  {
    "objectID": "posts/2024-06-18-r-vector/index.html",
    "href": "posts/2024-06-18-r-vector/index.html",
    "title": "Rでベクトルを作成する",
    "section": "",
    "text": "Rでベクトルを作成するいろいろな方法をまとめます。 ここで紹介する関数は以下になります。"
  },
  {
    "objectID": "posts/2024-06-18-r-vector/index.html#cと",
    "href": "posts/2024-06-18-r-vector/index.html#cと",
    "title": "Rでベクトルを作成する",
    "section": "\nc()と:\n",
    "text": "c()と:\n\nRで最も簡単なベクトルの作成方法はc()と:を使用することです。\nc()の中にカンマ(,)区切りで値を並べるとベクトルになります。 cはcombine(結合する)に由来しています。\n\nc(1, 2, 3)\n\n[1] 1 2 3\n\n\n[start]:[end]という感じで、始点と終点を指定してベクトルを作成することもできます。\n\n1:3\n\n[1] 1 2 3\n\n\nこれらは非常に頻繁に使用するので、覚えておくと便利です。"
  },
  {
    "objectID": "posts/2024-06-18-r-vector/index.html#seq",
    "href": "posts/2024-06-18-r-vector/index.html#seq",
    "title": "Rでベクトルを作成する",
    "section": "seq()",
    "text": "seq()\nseq()関数はsequence(~を順番に並べる)ことに由来しており、その名の通り、()内に指定した通りに値を並べてくれます。\n最も基本的な使い方は、始めと終わりの数を指定してベクトルを作成する方法です。\n\nseq(1, 3) # seq(start, end)\n\n[1] 1 2 3\n\n\n\nseq(from = 1, to = 3) # 丁寧な書き方\n\n[1] 1 2 3\n\n\n値を一つだけ指定すると、1からその数まで1ずつ増加するベクトルを作成します。\n\nseq(3)\n\n[1] 1 2 3\n\n\n1から始まる場合は、seq_len()関数を使用したほうが速く動きます。\n\nseq_len(5) # 1~5までのベクトル\n\n[1] 1 2 3 4 5\n\n\n上昇幅を指定してベクトルを作成する\nデフォルトでは1ずつ上昇しますが、引数byを変更すると上昇数値を変更できます。\n\nseq(from = 1, to = 3, by = 0.5) # 0.5ずつ増加\n\n[1] 1.0 1.5 2.0 2.5 3.0\n\n\n長さを指定してベクトルを作成する\n引数length.outを指定すると、長さを指定してベクトルを作成できます。 始めと終わりの値を等間隔に分割してくれます。\n\nseq(from = 1, to = 3, length.out = 6) # 長さ6のベクトル\n\n[1] 1.0 1.4 1.8 2.2 2.6 3.0\n\n\nあるベクトルと同じ長さのベクトルを作成するにはseq_along()を使用します。\n\nx &lt;- seq_along(c(\"A\", \"B\", \"C\", \"D\", \"E\"))\nseq_along(x)\n\n[1] 1 2 3 4 5\n\n\nこれは、forループを使用する際に便利です。 forループを書く時、下のように書くことが多いと思います。\n\nx &lt;- c(\"A\", \"B\", \"C\", \"D\", \"E\")\nfor (i in 1:length(x)) {\n  print(x[i])\n}\n\n[1] \"A\"\n[1] \"B\"\n[1] \"C\"\n[1] \"D\"\n[1] \"E\"\n\n\nこれをseq_along()を用いて書き直すと、以下のようになります。\n\nx &lt;- c(\"A\", \"B\", \"C\", \"D\", \"E\")\nfor (i in seq_along(x)) {\n  print(x[i])\n}\n\n[1] \"A\"\n[1] \"B\"\n[1] \"C\"\n[1] \"D\"\n[1] \"E\"\n\n\nあまり違いはありませんが、ループに用いるベクトルの長さが0(空ベクトル)の場合の処理が変わります。"
  },
  {
    "objectID": "posts/2024-06-18-r-vector/index.html#rep",
    "href": "posts/2024-06-18-r-vector/index.html#rep",
    "title": "Rでベクトルを作成する",
    "section": "rep()",
    "text": "rep()\n同じ値を繰り返すベクトルを作成するには、rep()関数を使用します。 repeatに由来します。\n\nrep(3, 5) # 3を5回繰り返す\n\n[1] 3 3 3 3 3\n\n\nベクトルを繰り返すこともできます。\n\nrep(1:3, 3) # 1~3を3回繰り返す\n\n[1] 1 2 3 1 2 3 1 2 3\n\nrep(1:3, times = 3) # 上と同じ\n\n[1] 1 2 3 1 2 3 1 2 3\n\n\nそれぞれの値をまとめて繰り返すこともできます。\n\nrep(1:3, each = 3) # それぞれの値を3回繰り返す\n\n[1] 1 1 1 2 2 2 3 3 3\n\n\n繰り返す回数を値ごとに指定できます。\n\nrep(1:3, c(1, 2, 1)) # 1は1回、2は2回、3は1回\n\n[1] 1 2 2 3\n\n\n長さを指定することもできます。 長さが優先されるので、繰り返しが途中の場合は切り捨てられます。\n\nrep(1:3, length.out = 5) # 長さ5まで繰り返す\n\n[1] 1 2 3 1 2"
  },
  {
    "objectID": "posts/2024-06-18-r-vector/index.html#活用例",
    "href": "posts/2024-06-18-r-vector/index.html#活用例",
    "title": "Rでベクトルを作成する",
    "section": "活用例",
    "text": "活用例\nこれらのベクトルの作成は、データフレームでIDやグループを作成したり、プロットの点を補完したりするときに活用されます。 例えば、A~Cまでのグループをデータシートの各行に振りたい時はrep(c(\"A\", \"B\", \"C\"), each = 5)とすれば、簡単にグループを作成することができます。 また、サインカーブなどの関数を描画したいときは、以下のようにすると簡単に関数を描画できます。\n\nx &lt;- seq(from = 0, to = pi, length.out = 100)\nplot(x, sin(x))"
  },
  {
    "objectID": "posts/2024-06-18-r-vector/index.html#まとめ",
    "href": "posts/2024-06-18-r-vector/index.html#まとめ",
    "title": "Rでベクトルを作成する",
    "section": "まとめ",
    "text": "まとめ\n個人的にはc()や:はほぼ毎日出てきますが、seq()系やrep()はたまに使うといった程度なので、ふと長いベクトルが必要なときにサクッとできないことも多いです。 調べればすぐに分かりますが、必要なときに簡単に作成できると便利だと思いました。"
  },
  {
    "objectID": "posts/2026-02-06-r-extract-filename/index.html",
    "href": "posts/2026-02-06-r-extract-filename/index.html",
    "title": "Rでファイル名を抽出する方法",
    "section": "",
    "text": "Rでファイルパスを扱う際に、ファイル名だけを抽出したり、拡張子を除いたファイル名を取得したりすることがあります。 ここでは、basename()やtools::file_path_sans_ext()を使って、Rでファイル名を抽出する方法についてまとめます。"
  },
  {
    "objectID": "posts/2026-02-06-r-extract-filename/index.html#ファイル名の抽出",
    "href": "posts/2026-02-06-r-extract-filename/index.html#ファイル名の抽出",
    "title": "Rでファイル名を抽出する方法",
    "section": "ファイル名の抽出",
    "text": "ファイル名の抽出\nファイルパスからファイル名を抽出するには、basename()関数を使用します。\n\nfile_path &lt;- \"/path/to/your/file/data.csv\"\nfile_name &lt;- basename(file_path)\nprint(file_name)\n\n[1] \"data.csv\"\n\n\nディレクトリパスを含むファイルパスから、ファイル名だけが抽出されました。"
  },
  {
    "objectID": "posts/2026-02-06-r-extract-filename/index.html#拡張子を除いたファイル名の抽出",
    "href": "posts/2026-02-06-r-extract-filename/index.html#拡張子を除いたファイル名の抽出",
    "title": "Rでファイル名を抽出する方法",
    "section": "拡張子を除いたファイル名の抽出",
    "text": "拡張子を除いたファイル名の抽出\n拡張子を除いたファイル名を取得するには、toolsパッケージのfile_path_sans_ext()関数を使用します。\n\nlibrary(tools)\nfile_path &lt;- \"/path/to/your/file/data.csv\"\nfile_name_no_ext &lt;- file_path_sans_ext(basename(file_path))\nprint(file_name_no_ext)\n\n[1] \"data\"\n\n\nこれにより、拡張子を除いたファイル名が取得できます。\n\n\n\n\n\n\nNotefile_path_sans_ext()の名前について\n\n\n\n少し長い関数名で覚えづらいですが、意味から覚えると忘れにくいと思います。 sansはフランス語で「〜なし」を意味します。 英語のwithoutに相当します。 また、extは「拡張子(extension)」の略です。 したがって、file_path_sans_ext()は「拡張子なしのファイルパス」を意味しています。"
  },
  {
    "objectID": "posts/2026-02-06-r-extract-filename/index.html#使用例",
    "href": "posts/2026-02-06-r-extract-filename/index.html#使用例",
    "title": "Rでファイル名を抽出する方法",
    "section": "使用例",
    "text": "使用例\nデータと対応する画像ファイル名などを結び付けてデータフレームにまとめる場合などに便利です。\n\nfile_paths &lt;- c(\n  \"/path/to/your/file/data1.csv\",\n  \"/path/to/your/file/data2.csv\",\n  \"/path/to/your/file/data3.csv\"\n)\nfile_names &lt;- basename(file_paths)\nfile_names_no_ext &lt;- file_path_sans_ext(file_names)\ndf &lt;- data.frame(value = c(10, 20, 30), file_name = file_names_no_ext)\nprint(df)\n\n  value file_name\n1    10     data1\n2    20     data2\n3    30     data3\n\n\nこのようにして、ファイル名をデータフレームに含めることができます。"
  },
  {
    "objectID": "posts/2025-01-01-imager/index.html",
    "href": "posts/2025-01-01-imager/index.html",
    "title": "画像処理のためのRパッケージimagerの使い方",
    "section": "",
    "text": "概要\nRで画像解析をしたいとなったときに、imagerというパッケージがあることを知った。 いろいろと試した結果を記す。\nパッケージの読み込み\nインストールは普通にinstall.packages()でOK。\n\ninstall.packages(\"imager\")\n\n読み込みは以下のようにする。\n\nlibrary(\"imager\")\n\n画像の読み込みと表示\n画像の読み込みにはload.image()を使う。 サンプル画像が5枚(動画が1つ)用意されている。 サンプルの確認は以下のようにする。\n\nlist.files(system.file('extdata', package = 'imager'))\n\n[1] \"coins.png\"           \"HubbleDeepField.jpg\" \"Leonardo_Birds.jpg\" \n[4] \"parrots.png\"         \"tennis_sif.mp4\"     \n\n\nボートのサンプル画像もあるのだが、ここには保存されていないようだ。\nちなみに、system.file()は、指定したパッケージがパソコンのどこに保存されているかを返す関数らしい。package='imagerでパッケージを指定して、第1引数のextdataでextra dataの保存場所を指定する。\n今回はオウムのサンプル画像を読み込み、それを表示させる。 表示は通常のplot()でOK。\n\nfile &lt;- system.file('extdata/parrots.png', package = 'imager')\nimg &lt;- load.image(file)\nplot(img)\n\n\n\n\n\n\n\n複数枚の画像をまとめて読み込むには、load.dir()を使う。\n\ndir &lt;- system.file('extdata/', package = 'imager')\nlist_img &lt;- load.dir(dir)\nplot(list_img)\n\n\n\n\n\n\n\nサンプルではなく、自分の画像を表示させるときは、適切なパスを指定すればちゃんと読み込める。 load.dir()の場合も同様。\nfile &lt;- \"/imagefile/hoge.jpg\"\nimg &lt;- load.image(file)\nまた、サンプルを読み込むときは、専用の関数がある。\n\n# sketch of birds by Leonardo, from Wikimedia\nplot(load.example(\"birds\"))\n\n\n\n\n\n\n# Parotts from Kodak\nplot(load.example(\"parrots\"))\n\n\n\n\n\n\n# The \"coins\" image comes from scikit-image.\nplot(load.example(\"coins\"))\n\n\n\n\n\n\n# The Hubble Deep field (hubble) is from Wikimedia.\nplot(load.example(\"hubble\"))\n\n\n\n\n\n\n# Boats from Kodak\nplot(boats)\n\n\n\n\n\n\n\nボートだけはそのまま読み込める。 なにか適当に試したいときはboatsが便利。\n画像の情報確認\n画像はcimgという形式で保存される。 コンソールにそのままオブジェクトを入力すると、基本情報が出力される。\n\nboats\n\nImage. Width: 256 pix Height: 384 pix Depth: 1 Colour channels: 3 \n\n\nboatsは通常の画像形式で、幅256ピクセル、高さ384ピクセル、深さ1、チャンネル数が3となる。\nここで、深さはフレームのことであり、動画の場合は画像が連続するため、深さがフレーム数ということになる。\nチャンネル数は色付き画像ならRGBの3になり、グレースケールなら1チャンネルとなる。\nグレースケール変換\nグレースケール変換はgrayscale()で簡単にできる。\n第2引数にmethodがある。 デフォルトは\"Luma\"となっており、この場合は輝度の線形近似によりグレースケール変換をおこなう。 他には\"XYZ\"をとることができるが、この場合は画像がsRGB色空間にあると想定され、CIE輝度 CIE luminanceが使われるとのこと。 特にこだわりがなければ、省略する。\n意外と大事になるのが第3引数。 drop=TRUEとなっている。 TRUEの場合は画像が1チャンネルで出力される。 FALSEの場合は3チャンネルが保持されたままグレースケールに変換される。 あとで色をつけたいときはFALSEにしておくと良いかもしれない。 基本的にはデフォルトのままにしておくと良いと思う。\n\nimg_gray &lt;- grayscale(boats)\nlayout(matrix(c(1, 2), 1, 2, byrow = TRUE))\nplot(boats, main = \"Original\")\nplot(img_gray, main = \"Grayscale\")"
  },
  {
    "objectID": "posts/2026-02-04-quarto-pdf-inlinecode-bg/index.html",
    "href": "posts/2026-02-04-quarto-pdf-inlinecode-bg/index.html",
    "title": "QuartoでPDF出力時にインラインコードブロックに背景色を付ける方法",
    "section": "",
    "text": "QuartoでPDFを出力する際はHTML出力と異なり、インラインコードブロックに背景色を付ける設定がデフォルトでは用意されていません。\nそこで、LaTeXのxcolorパッケージを利用して、インラインコードブロックに背景色を付けたので、その方法をまとめます。"
  },
  {
    "objectID": "posts/2026-02-04-quarto-pdf-inlinecode-bg/index.html#プリアンブルの設定",
    "href": "posts/2026-02-04-quarto-pdf-inlinecode-bg/index.html#プリアンブルの設定",
    "title": "QuartoでPDF出力時にインラインコードブロックに背景色を付ける方法",
    "section": "プリアンブルの設定",
    "text": "プリアンブルの設定\nまず、YAMLヘッダーに以下のようにinclude-in-headerオプションを追加し、xcolorパッケージや背景色の設定を行うプリアンブルが書かれたファイル(ここではpreamble.tex)を指定します。\n---\nformat: \n  pdf:\n    include-in-header: preamble.tex\n---\ninculude-in-headerオプションを使うことで、指定した内容がドキュメントの前に追加されます。 LaTeXでいうところの、プリアンブル(preamble)に相当します。\n今回のpreamble.texファイルは、ドキュメントと同じディレクトリに保存されていることが想定されています。 もし別のディレクトリに保存する場合は、相対パスや絶対パスで指定してください。 また、ファイル名は任意の名前に変更しても問題ありません。"
  },
  {
    "objectID": "posts/2026-02-04-quarto-pdf-inlinecode-bg/index.html#プリアンブルの内容",
    "href": "posts/2026-02-04-quarto-pdf-inlinecode-bg/index.html#プリアンブルの内容",
    "title": "QuartoでPDF出力時にインラインコードブロックに背景色を付ける方法",
    "section": "プリアンブルの内容",
    "text": "プリアンブルの内容\n次に、preamble.texファイルを作成し、以下の内容を記述します。\n\n\npreamble.tex\n\n\\usepackage{xcolor}\n\n\\definecolor{inlinecodebg}{RGB}{245,245,245}\n\n\\let\\OldTexttt\\texttt\n\\renewcommand{\\texttt}[1]{%\n  \\colorbox{inlinecodebg}{\\OldTexttt{#1}}%\n}\n\n\n\n\n\n\n\nNote解説\n\n\n\n\n\\usepackage{xcolor}: xcolorパッケージを読み込みます。これにより、色の定義や背景色の設定が可能になります。\n\n\\definecolor{inlinecodebg}{RGB}{245,245,245}: inlinecodebgという名前で背景色を定義しています。ここでは薄いグレーを指定していますが、RGB値を変更することで好きな色に変更できます。\n\n\\let\\OldTexttt\\textttと\\renewcommand{\\texttt}[1]{...}: 既存の\\textttコマンドを保存し、新たに背景色付きの\\textttコマンドを定義しています。これにより、インラインコードブロックが背景色付きで表示されるようになります。\nここで、\\OldTexttを使う理由は、元の\\textttコマンドの機能を保持しつつ、新しい機能を追加するためです。\n\nまた、\\texttは等幅フォント(typewriter text)でテキストを表示するためのLaTeXコマンドであり、Quartoではインラインコードブロックに対応しています。"
  },
  {
    "objectID": "posts/2026-02-04-quarto-pdf-inlinecode-bg/index.html#動作確認",
    "href": "posts/2026-02-04-quarto-pdf-inlinecode-bg/index.html#動作確認",
    "title": "QuartoでPDF出力時にインラインコードブロックに背景色を付ける方法",
    "section": "動作確認",
    "text": "動作確認\n上記の設定を行った後、以下のようなインラインコードブロックを含むQuartoドキュメントを作成し、PDF出力を行います。 色を変更する場合はPDF出力を行って色を確認しながら、RGB値を調整してください。"
  },
  {
    "objectID": "posts/2026-02-04-quarto-pdf-inlinecode-bg/index.html#参考",
    "href": "posts/2026-02-04-quarto-pdf-inlinecode-bg/index.html#参考",
    "title": "QuartoでPDF出力時にインラインコードブロックに背景色を付ける方法",
    "section": "参考",
    "text": "参考\n\nCTAN: Package xcolor\nPDF Basics – Quarto\nPDF Options – Quarto"
  },
  {
    "objectID": "posts/2026-02-02-r-lorenz-attractor/index.html",
    "href": "posts/2026-02-02-r-lorenz-attractor/index.html",
    "title": "RでLorenz attractorを描く",
    "section": "",
    "text": "Lorenz attractorは、Edward Lorenz氏によって報告されたカオス理論の一例であり、非線形力学系の挙動を示す有名なモデルです。\n以下に、RのdeSolveパッケージを使用してLorenz attractorを描く方法を示します。"
  },
  {
    "objectID": "posts/2026-02-02-r-lorenz-attractor/index.html#lorenz方程式の定義",
    "href": "posts/2026-02-02-r-lorenz-attractor/index.html#lorenz方程式の定義",
    "title": "RでLorenz attractorを描く",
    "section": "Lorenz方程式の定義",
    "text": "Lorenz方程式の定義\nLorenz方程式は以下の3つの常微分方程式から構成されます。\n\\[\n\\begin{align}\n  \\frac{dx}{dt} &= \\sigma (y - x) \\\\\n  \\frac{dy}{dt} &= x(\\rho - z) - y \\\\\n  \\frac{dz}{dt} &= xy - \\beta z\n\\end{align}\n\\]\nここで、\\(x\\)、\\(y\\)、および\\(z\\)はシステムの状態変数であり、\\(\\sigma\\)、\\(\\rho\\)、および\\(\\beta\\)はパラメータです。一般的に使用されるパラメータ値は以下の通りです。\n\n\\(\\sigma = 10\\)\n\\(\\rho = 28\\)\n\\(\\beta = \\frac{8}{3}\\)"
  },
  {
    "objectID": "posts/2026-02-02-r-lorenz-attractor/index.html#desolveパッケージのインストールと読み込み",
    "href": "posts/2026-02-02-r-lorenz-attractor/index.html#desolveパッケージのインストールと読み込み",
    "title": "RでLorenz attractorを描く",
    "section": "deSolveパッケージのインストールと読み込み",
    "text": "deSolveパッケージのインストールと読み込み\nまず、deSolveパッケージをインストールし、読み込みます。\ninstall.packages(\"deSolve\")  # まだインストールしていない場合\nlibrary(deSolve)\nrenvパッケージを使用している場合は、以下のようにします。\nrenv::install(\"deSolve\") # まだインストールしていない場合\n\nlibrary(deSolve)"
  },
  {
    "objectID": "posts/2026-02-02-r-lorenz-attractor/index.html#lorenz方程式の実装",
    "href": "posts/2026-02-02-r-lorenz-attractor/index.html#lorenz方程式の実装",
    "title": "RでLorenz attractorを描く",
    "section": "Lorenz方程式の実装",
    "text": "Lorenz方程式の実装\nまずは、Lorenz方程式をRの関数として実装します。\n\nlorenz &lt;- function(t, state, parameters) {\n  with(as.list(c(state, parameters)), {\n    dx &lt;- sigma * (y - x)\n    dy &lt;- x * (rho - z) - y\n    dz &lt;- x * y - beta * z\n    list(c(dx, dy, dz))\n  })\n}\n\n次に、初期状態、パラメータ、時間の範囲を設定します。\n\nstate &lt;- c(x = -10, y = -10, z = 30)\nparameters &lt;- c(sigma = 10, rho = 28, beta = 8 / 3)\ntimes &lt;- seq(0, 100, by = 0.01)\n\node()関数を使用してLorenz方程式を解きます。\n\nout &lt;- ode(y = state, times = times, func = lorenz, parms = parameters)\nout &lt;- as.data.frame(out)"
  },
  {
    "objectID": "posts/2026-02-02-r-lorenz-attractor/index.html#lorenz-attractorの描画",
    "href": "posts/2026-02-02-r-lorenz-attractor/index.html#lorenz-attractorの描画",
    "title": "RでLorenz attractorを描く",
    "section": "Lorenz attractorの描画",
    "text": "Lorenz attractorの描画\nまずは二次元のプロットを作成します。 x-y平面、x-z平面、y-z平面の3つのプロットを描きます。\n\nplot(out$x, out$z, type = \"l\", xlab = \"x\", ylab = \"z\")\n\n\n\n\n\n\nplot(out$x, out$y, type = \"l\", xlab = \"x\", ylab = \"y\")\n\n\n\n\n\n\nplot(out$y, out$z, type = \"l\", xlab = \"y\", ylab = \"z\")"
  },
  {
    "objectID": "posts/2026-02-02-r-lorenz-attractor/index.html#dプロットの作成",
    "href": "posts/2026-02-02-r-lorenz-attractor/index.html#dプロットの作成",
    "title": "RでLorenz attractorを描く",
    "section": "3Dプロットの作成",
    "text": "3Dプロットの作成\nRのscatterplot3dパッケージを使用して、3Dプロットを作成します。\nまだインストールしていない場合は、以下のコマンドでインストールしてください。\ninstall.packages(\"scatterplot3d\")  # まだインストールしていない場合\nrenv::install(\"scatterplot3d\") # renvを使用している場合\n\nlibrary(scatterplot3d)\nscatterplot3d(\n  out$x,\n  out$y,\n  out$z,\n  type = \"l\",\n  xlab = \"X\",\n  ylab = \"Y\",\n  zlab = \"Z\",\n  main = \"Lorenz Attractor\"\n)\n\n\n\n\n\n\n\nまた、それぞれの面に投影した2Dプロットも描いてみます。\n\ns3d &lt;- scatterplot3d(\n  out$x,\n  out$y,\n  out$z,\n  type = \"n\",\n  xlab = \"X\",\n  ylab = \"Y\",\n  zlab = \"Z\",\n  main = \"Lorenz Attractor with Projections\"\n)\ns3d$points3d(out$x, out$y, out$z, type = \"l\", col = \"#FF4B00\") # Lorenz attractor本体\ns3d$points3d(\n  out$x,\n  out$y,\n  rep(min(out$z), nrow(out)),\n  type = \"l\",\n  col = adjustcolor(\"gray50\", alpha.f = 0.5)\n) # x-y平面への投影\ns3d$points3d(\n  out$x,\n  rep(max(out$y), nrow(out)),\n  out$z,\n  type = \"l\",\n  col = adjustcolor(\"gray50\", alpha.f = 0.5)\n) # x-z平面への投影\ns3d$points3d(\n  rep(min(out$x), nrow(out)),\n  out$y,\n  out$z,\n  type = \"l\",\n  col = adjustcolor(\"gray50\", alpha.f = 0.5)\n) # y-z平面への投影"
  },
  {
    "objectID": "posts/2026-02-02-r-lorenz-attractor/index.html#plotlyを使ったインタラクティブな3dプロット",
    "href": "posts/2026-02-02-r-lorenz-attractor/index.html#plotlyを使ったインタラクティブな3dプロット",
    "title": "RでLorenz attractorを描く",
    "section": "Plotlyを使ったインタラクティブな3Dプロット",
    "text": "Plotlyを使ったインタラクティブな3Dプロット\nRのplotlyパッケージを使用して、インタラクティブな3Dプロットを作成します。\nまだインストールしていない場合は、以下のコマンドでインストールしてください。\ninstall.packages(\"plotly\")  # まだインストールしていない場合\nrenv::install(\"plotly\") # renvを使用している場合\n\nlibrary(plotly)\n\nLoading required package: ggplot2\n\n\n\nAttaching package: 'plotly'\n\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\n\nThe following object is masked from 'package:stats':\n\n    filter\n\n\nThe following object is masked from 'package:graphics':\n\n    layout\n\nfig &lt;- plot_ly(\n  x = out$x,\n  y = out$y,\n  z = out$z,\n  type = 'scatter3d',\n  mode = 'lines'\n)\nfig &lt;- fig %&gt;%\n  layout(\n    title = \"Lorenz Attractor\",\n    scene = list(\n      xaxis = list(title = 'X'),\n      yaxis = list(title = 'Y'),\n      zaxis = list(title = 'Z')\n    )\n  )\nfig\n\n\n\n\n\n時間まで含めた色変化も可能です。\n\nfig &lt;- plot_ly(\n  data = out,\n  x = ~x,\n  y = ~y,\n  z = ~z,\n  color = ~time,\n  colors = colorRamp(c(\"blue\", \"red\")),\n  type = 'scatter3d',\n  mode = 'lines'\n)\nfig\n\n\n\n\n\nまた、時間フレームによるアニメーションも追加できます。 描画フレームを間引いて軽量化しています。\n\nidx &lt;- seq(1, nrow(out), by = 10) # フレーム数を減らすために間引き\nout2 &lt;- out[idx, ]\n\nfig &lt;- plot_ly() %&gt;%\n  # 静的な軌跡（線）\n  add_trace(\n    data = out,\n    x = ~x,\n    y = ~y,\n    z = ~z,\n    type = \"scatter3d\",\n    mode = \"lines\",\n    line = list(color = \"gray\")\n  ) %&gt;%\n  # 動く点\n  add_trace(\n    data = out2,\n    x = ~x,\n    y = ~y,\n    z = ~z,\n    frame = ~time,\n    type = \"scatter3d\",\n    mode = \"markers\",\n    marker = list(size = 3, color = \"#FF4B00\")\n  ) %&gt;%\n  animation_opts(\n    frame = 50, # 1フレームの表示時間（ms）\n    transition = 0 # 補間アニメーションを切ることで軽量化する\n  )\n\nfig"
  },
  {
    "objectID": "posts/2026-02-02-r-lorenz-attractor/index.html#参考になるページ",
    "href": "posts/2026-02-02-r-lorenz-attractor/index.html#参考になるページ",
    "title": "RでLorenz attractorを描く",
    "section": "参考になるページ",
    "text": "参考になるページ\n\nLorenz system - Wikipedia\nCRAN: Package deSolve\nPlotly r graphing library in R"
  },
  {
    "objectID": "posts/2026-01-30-quarto-data-format/index.html",
    "href": "posts/2026-01-30-quarto-data-format/index.html",
    "title": "Quartoで表示される日付型を変更する",
    "section": "",
    "text": "Quartoでブログ記事の日付を表示する際に、デフォルトではmedium dateという形式で表示されます。 これは、Jan 30, 2026のような形式です。 しかし、ISO 8601形式の2026-01-30のような形式で表示したい場合があります。"
  },
  {
    "objectID": "posts/2026-01-30-quarto-data-format/index.html#data-formatオプション",
    "href": "posts/2026-01-30-quarto-data-format/index.html#data-formatオプション",
    "title": "Quartoで表示される日付型を変更する",
    "section": "data-formatオプション",
    "text": "data-formatオプション\nQuartoで日付の表示形式を変更するには、date-formatオプションを設定します。 YAMLヘッダーや_quarto.ymlファイルでこのオプションを指定することで、日付の表示形式を変更できます。 一番使用することが多いのは、ブログ記事の一覧表示部分(listing page)かと思います。\nブログ記事のように複数の記事を一覧表示する場合、posts.qmdファイルのYAMLヘッダーにdate-formatオプションを追加します。\n\n\nposts.qmd\n\n---\ntitle: \"Blog\"\nlisting:\n  contents: posts\n  sort: \"date desc\"\n  type: default\n  categories: true\n  date-format: iso\n---\n\nもし個別の記事ページで日付の表示形式を変更したい場合は、各記事のYAMLヘッダーにdate-formatオプションを追加します。\n\n\nposts/2026-01-30-quarto-data-format.qmd\n\n---\ntitle: \"Quartoで表示される日付型を変更する\"\ndate: \"2026-01-30\"\ndate-modified: \"2026-01-30\"\ndate-format: iso\n---\n\nまた、_quarto.ymlファイルにグローバル設定として追加することも可能です。\n\n\n_quarto.yml\n\ndate-format: iso"
  },
  {
    "objectID": "posts/2026-01-30-quarto-data-format/index.html#日付フォーマットの種類",
    "href": "posts/2026-01-30-quarto-data-format/index.html#日付フォーマットの種類",
    "title": "Quartoで表示される日付型を変更する",
    "section": "日付フォーマットの種類",
    "text": "日付フォーマットの種類\n表示形式の変更には、以下の2つの方法があります。 1. 日付スタイルを指定する 2. カスタムフォーマットを指定する方法があります。\n\n日付スタイルの指定\nQuartoでは、以下のような日付スタイルを指定できます。\n\nshort: 短い形式 (例: 1/30/26)\nmedium: 中程度の形式 (例: Jan 30, 2026)\nlong: 長い形式 (例: January 30, 2026)\nfull: 完全な形式 (例: Friday, January 30, 2026)\niso: ISO 8601形式 (例: 2026-01-30)\n\n\n\nカスタムフォーマットの指定\n自分でもっと細かくスタイルを指定したい場合は、カスタムフォーマットを使用します。 カスタムフォーマットを指定する場合、以下のようにdate-formatオプションにフォーマット文字列を設定します。 例えば、2026/01/30のように表示したい場合は、以下のように指定します。\ndate-format: \"yyyy/MM/dd\"\n\n\n\n\n\n\nNote\n\n\n\nカスタムフォーマットの詳細については、以下の公式ドキュメントを参照してください。\n\nQuarto Dates and Date Formatting\n\n\n\n\n\n言語による表示形式の違い\nQuartoでは、表示される日付の形式は言語設定によっても影響を受けます。 例えば、日本語設定の場合、mediumスタイルは2026年1月30日のように表示されます。 言語設定を変更するには、YAMLヘッダーや_quarto.ymlファイルでlangオプションを設定します。\n\n\n_quarto.yml\n\nformat:\n  html:\n    lang: ja\n\nもしかしたらトップレベルにおいても良いかもしれません。\n\n\n\n\n\n\nNote\n\n\n\nlangオプションについては、詳しくは以下の公式ドキュメントを参照してください\n\nDocument Language - Quarto"
  },
  {
    "objectID": "posts/2026-01-30-quarto-data-format/index.html#参考",
    "href": "posts/2026-01-30-quarto-data-format/index.html#参考",
    "title": "Quartoで表示される日付型を変更する",
    "section": "参考",
    "text": "参考\n\nDocument Listings- Quarto\nQuarto Dates and Date Formatting\nDocument Language - Quarto\nHTML Options - Quarto"
  }
]